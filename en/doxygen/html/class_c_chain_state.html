<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.14"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Dash Core: CChainState Class Reference</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="doxygen_stylesheetextra.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<div class="head"><div>
		<!--<a id="menumobile" class="menumobile" onclick="mobileMenuShow(event);" ontouchstart="mobileMenuShow(event);"></a>-->
		<a class="logo" href="/en/"><img src="logotop.png" alt="Dash"></img></a>
		<ul id="menusimple" class="menusimple menumain" onclick="mobileMenuHover(event);" ontouchstart="mobileMenuHover(event);">
		  <li><a href="/en/dash-for-developers">Developers</a></li>
		  <li><a>Documentation</a>
			<ul>
			  <li><a href="/en/developer-guide">Guide</a></li>
			  <li><a href="/en/developer-reference">Reference</a></li>
			  <li><a href="/en/developer-examples">Examples</a></li>
			  <li><a href="/en/developer-glossary">Glossary</a></li>
			</ul>
		  </li>
		  <li><a>Resources</a>
			<ul>
			  <li><a rel="noopener noreferrer" target="_blank" href="https://www.dash.org/community/">Community</a></li>
			  <li><a href="/en/vocabulary">Vocabulary</a></li>
			</ul>
		  </li>
		</ul>
		</div></div>
		<div class="body">
		<div class="breadcrumbs"></div>
		<div id="content" class="content">
		  <!-- <link rel="stylesheet" href="/css/jquery-ui.min.css"> -->
		  <h1>Dash Core Source Documentation (0.16.0.1)</h1>
		  <p class="summary">Find detailed information regarding the Dash Core source code.</p>
		<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<!--
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
			 <tbody>
			 <tr style="height: 56px;">
			  <td id="projectlogo"><img alt="Logo" src="logotop.png"/></td>
			  <td id="projectalign" style="padding-left: 0.5em;">
			   <div id="projectname">Dash Core
			   &#160;<span id="projectnumber">0.16.0.1</span>
			   </div>
			   <div id="projectbrief">P2P Digital Currency</div>
			  </td>
			 </tr>
			 </tbody>
			</table>
		</div>
		-->
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_c_chain_state.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_c_chain_state-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CChainState Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_c_chain_state.html" title="CChainState stores and provides an API to update our local knowledge of the current best chain and he...">CChainState</a> stores and provides an API to update our local knowledge of the current best chain and header tree.  
 <a href="class_c_chain_state.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for CChainState:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_c_chain_state__coll__graph.svg" width="100%" height="543"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3bd618dffc998e987d94f03d45353314"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a3bd618dffc998e987d94f03d45353314">LoadBlockIndex</a> (const <a class="el" href="struct_consensus_1_1_params.html">Consensus::Params</a> &amp;consensus_params, <a class="el" href="class_c_block_tree_d_b.html">CBlockTreeDB</a> &amp;blocktree)</td></tr>
<tr class="separator:a3bd618dffc998e987d94f03d45353314"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a24c6da53ff4b725e2d1c8b4af007fe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a5a24c6da53ff4b725e2d1c8b4af007fe">ActivateBestChain</a> (<a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; pblock)</td></tr>
<tr class="memdesc:a5a24c6da53ff4b725e2d1c8b4af007fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make the best chain active, in multiple steps.  <a href="#a5a24c6da53ff4b725e2d1c8b4af007fe">More...</a><br /></td></tr>
<tr class="separator:a5a24c6da53ff4b725e2d1c8b4af007fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059db2048ce030760838426613dfc3e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a059db2048ce030760838426613dfc3e7">AcceptBlockHeader</a> (const <a class="el" href="class_c_block_header.html">CBlockHeader</a> &amp;block, <a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, <a class="el" href="class_c_block_index.html">CBlockIndex</a> **ppindex)</td></tr>
<tr class="separator:a059db2048ce030760838426613dfc3e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4c089f033fefc9f5e10cda9af6a3a9a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ae4c089f033fefc9f5e10cda9af6a3a9a">AcceptBlock</a> (const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock, <a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, <a class="el" href="class_c_block_index.html">CBlockIndex</a> **ppindex, bool fRequested, const <a class="el" href="struct_c_disk_block_pos.html">CDiskBlockPos</a> *dbp, bool *fNewBlock)</td></tr>
<tr class="memdesc:ae4c089f033fefc9f5e10cda9af6a3a9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store block on disk.  <a href="#ae4c089f033fefc9f5e10cda9af6a3a9a">More...</a><br /></td></tr>
<tr class="separator:ae4c089f033fefc9f5e10cda9af6a3a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c2802e12d40109c2189bfa8a5e0e8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="validation_8cpp.html#aeaef80b01ee5387f474a63ed23c9cc50">DisconnectResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a84c2802e12d40109c2189bfa8a5e0e8f">DisconnectBlock</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;view)</td></tr>
<tr class="memdesc:a84c2802e12d40109c2189bfa8a5e0e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undo the effects of this block (with given index) on the UTXO set represented by coins.  <a href="#a84c2802e12d40109c2189bfa8a5e0e8f">More...</a><br /></td></tr>
<tr class="separator:a84c2802e12d40109c2189bfa8a5e0e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0c017d41977fe6552ecfd1fc7c887d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a6c0c017d41977fe6552ecfd1fc7c887d">ConnectBlock</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, <a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;view, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, bool fJustCheck=<a class="el" href="bls__dkg_8cpp.html#acbfefceb9a9a73343ae3d5a25009f29c">false</a>)</td></tr>
<tr class="memdesc:a6c0c017d41977fe6552ecfd1fc7c887d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the effects of this block (with given index) on the UTXO set represented by coins.  <a href="#a6c0c017d41977fe6552ecfd1fc7c887d">More...</a><br /></td></tr>
<tr class="separator:a6c0c017d41977fe6552ecfd1fc7c887d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57682556dc35715fba5f0c6075efcc6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a57682556dc35715fba5f0c6075efcc6e">DisconnectTip</a> (<a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, <a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> *disconnectpool)</td></tr>
<tr class="memdesc:a57682556dc35715fba5f0c6075efcc6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect chainActive's tip.  <a href="#a57682556dc35715fba5f0c6075efcc6e">More...</a><br /></td></tr>
<tr class="separator:a57682556dc35715fba5f0c6075efcc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e55c3c2a30535273288ae68fdfcac88"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a9e55c3c2a30535273288ae68fdfcac88">PreciousBlock</a> (<a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;params, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex)</td></tr>
<tr class="separator:a9e55c3c2a30535273288ae68fdfcac88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656ebb0e37670a16714f0be1c572468b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a656ebb0e37670a16714f0be1c572468b">InvalidateBlock</a> (<a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex)</td></tr>
<tr class="separator:a656ebb0e37670a16714f0be1c572468b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed855ca1761c2176651c8082aa9f529"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a7ed855ca1761c2176651c8082aa9f529">ResetBlockFailureFlags</a> (<a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex)</td></tr>
<tr class="separator:a7ed855ca1761c2176651c8082aa9f529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219bb793d4d3b0a095ccc47c45bc5b83"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a219bb793d4d3b0a095ccc47c45bc5b83">ReplayBlocks</a> (const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;params, <a class="el" href="class_c_coins_view.html">CCoinsView</a> *view)</td></tr>
<tr class="separator:a219bb793d4d3b0a095ccc47c45bc5b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc0586502e4dd4092c4a0707d329f6eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#afc0586502e4dd4092c4a0707d329f6eb">RewindBlockIndex</a> (const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;params)</td></tr>
<tr class="separator:afc0586502e4dd4092c4a0707d329f6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6beb735dce3a8f0182660c04789df961"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a6beb735dce3a8f0182660c04789df961">LoadGenesisBlock</a> (const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams)</td></tr>
<tr class="separator:a6beb735dce3a8f0182660c04789df961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44f7b33079a2b417be844322dd4a287"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ac44f7b33079a2b417be844322dd4a287">AddGenesisBlock</a> (const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, <a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state)</td></tr>
<tr class="separator:ac44f7b33079a2b417be844322dd4a287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c5ba911dca1f0d59781b9e63a607cd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a6c5ba911dca1f0d59781b9e63a607cd6">PruneBlockIndexCandidates</a> ()</td></tr>
<tr class="memdesc:a6c5ba911dca1f0d59781b9e63a607cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all entries in setBlockIndexCandidates that are worse than the current tip.  <a href="#a6c5ba911dca1f0d59781b9e63a607cd6">More...</a><br /></td></tr>
<tr class="separator:a6c5ba911dca1f0d59781b9e63a607cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807d9f23f63726267a1c62bf9c9eecef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a807d9f23f63726267a1c62bf9c9eecef">UnloadBlockIndex</a> ()</td></tr>
<tr class="separator:a807d9f23f63726267a1c62bf9c9eecef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9b1419f91f5e56c7d4db775526c14e0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_chain.html">CChain</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a9b1419f91f5e56c7d4db775526c14e0d">chainActive</a></td></tr>
<tr class="separator:a9b1419f91f5e56c7d4db775526c14e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e2cf108ec02553707ae715b3acf0ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="validation_8h.html#a6b962fe256607627c8140021ae7a23e1">BlockMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a95e2cf108ec02553707ae715b3acf0ee">mapBlockIndex</a></td></tr>
<tr class="separator:a95e2cf108ec02553707ae715b3acf0ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa03bcd75f151dc8877ae3b88a1996f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="validation_8h.html#a96680fea6f816a51a18d938394f06394">PrevBlockMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#afa03bcd75f151dc8877ae3b88a1996f2">mapPrevBlockIndex</a></td></tr>
<tr class="separator:afa03bcd75f151dc8877ae3b88a1996f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318040c11336b79eddc71e1d3b176f2a"><td class="memItemLeft" align="right" valign="top">std::multimap&lt; <a class="el" href="class_c_block_index.html">CBlockIndex</a> *, <a class="el" href="class_c_block_index.html">CBlockIndex</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a318040c11336b79eddc71e1d3b176f2a">mapBlocksUnlinked</a></td></tr>
<tr class="separator:a318040c11336b79eddc71e1d3b176f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ae491f2e6b031587a5ad35fdafe546"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ae0ae491f2e6b031587a5ad35fdafe546">pindexBestInvalid</a> = nullptr</td></tr>
<tr class="separator:ae0ae491f2e6b031587a5ad35fdafe546"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a14d226df8dd7502d039f98b58f1534d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a14d226df8dd7502d039f98b58f1534d4">ActivateBestChainStep</a> (<a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexMostWork, const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock, bool &amp;fInvalidFound, <a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;connectTrace)</td></tr>
<tr class="memdesc:a14d226df8dd7502d039f98b58f1534d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to make some progress towards making pindexMostWork the active block.  <a href="#a14d226df8dd7502d039f98b58f1534d4">More...</a><br /></td></tr>
<tr class="separator:a14d226df8dd7502d039f98b58f1534d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8212270ad8b00cc1daad6f38623654"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a7b8212270ad8b00cc1daad6f38623654">ConnectTip</a> (<a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;chainparams, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew, const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;pblock, <a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;connectTrace, <a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> &amp;disconnectpool)</td></tr>
<tr class="memdesc:a7b8212270ad8b00cc1daad6f38623654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect a new block to chainActive.  <a href="#a7b8212270ad8b00cc1daad6f38623654">More...</a><br /></td></tr>
<tr class="separator:a7b8212270ad8b00cc1daad6f38623654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19d07e5b7270ebd08fcd2f415fe2a49f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a19d07e5b7270ebd08fcd2f415fe2a49f">AddToBlockIndex</a> (const <a class="el" href="class_c_block_header.html">CBlockHeader</a> &amp;block, enum <a class="el" href="chain_8h.html#a0d8c285f70a59a32f4f6ab41b78f93ad">BlockStatus</a> nStatus=<a class="el" href="chain_8h.html#a0d8c285f70a59a32f4f6ab41b78f93ada67f3a88eeb793cc62f427f87ae830573">BLOCK_VALID_TREE</a>)</td></tr>
<tr class="separator:a19d07e5b7270ebd08fcd2f415fe2a49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6306c9d32c3652dd68503e3ef838bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aec6306c9d32c3652dd68503e3ef838bc">InsertBlockIndex</a> (const <a class="el" href="classuint256.html">uint256</a> &amp;hash)</td></tr>
<tr class="memdesc:aec6306c9d32c3652dd68503e3ef838bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new block index entry for a given block hash.  <a href="#aec6306c9d32c3652dd68503e3ef838bc">More...</a><br /></td></tr>
<tr class="separator:aec6306c9d32c3652dd68503e3ef838bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48cfb3ace8393f98f940b02876377f97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a48cfb3ace8393f98f940b02876377f97">CheckBlockIndex</a> (const <a class="el" href="struct_consensus_1_1_params.html">Consensus::Params</a> &amp;consensusParams)</td></tr>
<tr class="separator:a48cfb3ace8393f98f940b02876377f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0087944413aa4c30c7ef1644a1ad9f3a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a0087944413aa4c30c7ef1644a1ad9f3a">InvalidBlockFound</a> (<a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, const <a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state)</td></tr>
<tr class="separator:a0087944413aa4c30c7ef1644a1ad9f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88336990c447e935c05777f4b2cfb3ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a88336990c447e935c05777f4b2cfb3ff">FindMostWorkChain</a> ()</td></tr>
<tr class="memdesc:a88336990c447e935c05777f4b2cfb3ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the tip of the chain with the most work in it, that isn't known to be invalid (it's however far from certain to be valid).  <a href="#a88336990c447e935c05777f4b2cfb3ff">More...</a><br /></td></tr>
<tr class="separator:a88336990c447e935c05777f4b2cfb3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad55fb1b706ce951a42cd4d060110b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#acad55fb1b706ce951a42cd4d060110b5">ReceivedBlockTransactions</a> (const <a class="el" href="class_c_block.html">CBlock</a> &amp;block, <a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;state, <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindexNew, const <a class="el" href="struct_c_disk_block_pos.html">CDiskBlockPos</a> &amp;pos)</td></tr>
<tr class="memdesc:acad55fb1b706ce951a42cd4d060110b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a block as having its data received and checked (up to BLOCK_VALID_TRANSACTIONS).  <a href="#acad55fb1b706ce951a42cd4d060110b5">More...</a><br /></td></tr>
<tr class="separator:acad55fb1b706ce951a42cd4d060110b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a6a93bf81626b263deef801883f7abc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a8a6a93bf81626b263deef801883f7abc">RollforwardBlock</a> (const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *pindex, <a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;inputs, const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;params)</td></tr>
<tr class="memdesc:a8a6a93bf81626b263deef801883f7abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply the effects of a block on the utxo cache, ignoring that it may already have been applied.  <a href="#a8a6a93bf81626b263deef801883f7abc">More...</a><br /></td></tr>
<tr class="separator:a8a6a93bf81626b263deef801883f7abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a528c14be4a2a7c6837a2d099b2ad7ef7"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_c_block_index.html">CBlockIndex</a> *, CBlockIndexWorkComparator &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a528c14be4a2a7c6837a2d099b2ad7ef7">setBlockIndexCandidates</a></td></tr>
<tr class="memdesc:a528c14be4a2a7c6837a2d099b2ad7ef7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The set of all <a class="el" href="class_c_block_index.html" title="The block chain is a tree shaped structure starting with the genesis block at the root...">CBlockIndex</a> entries with BLOCK_VALID_TRANSACTIONS (for itself and all ancestors) and as good as our current tip or better.  <a href="#a528c14be4a2a7c6837a2d099b2ad7ef7">More...</a><br /></td></tr>
<tr class="separator:a528c14be4a2a7c6837a2d099b2ad7ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e45b0fb23eacbbc2c0675f429d5c3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_c_critical_section.html">CCriticalSection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#ad9e45b0fb23eacbbc2c0675f429d5c3b">cs_nBlockSequenceId</a></td></tr>
<tr class="memdesc:ad9e45b0fb23eacbbc2c0675f429d5c3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every received block is assigned a unique and increasing identifier, so we know which one to give priority in case of a fork.  <a href="#ad9e45b0fb23eacbbc2c0675f429d5c3b">More...</a><br /></td></tr>
<tr class="separator:ad9e45b0fb23eacbbc2c0675f429d5c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c18ee587d1d516d12a193235eeb1cd"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a04c18ee587d1d516d12a193235eeb1cd">nBlockSequenceId</a> = 1</td></tr>
<tr class="memdesc:a04c18ee587d1d516d12a193235eeb1cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks loaded from disk are assigned id 0, so start the counter at 1.  <a href="#a04c18ee587d1d516d12a193235eeb1cd">More...</a><br /></td></tr>
<tr class="separator:a04c18ee587d1d516d12a193235eeb1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4846ebb330ea7ad36adb058ba2b859"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aaf4846ebb330ea7ad36adb058ba2b859">nBlockReverseSequenceId</a> = -1</td></tr>
<tr class="memdesc:aaf4846ebb330ea7ad36adb058ba2b859"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decreasing counter (used by subsequent preciousblock calls).  <a href="#aaf4846ebb330ea7ad36adb058ba2b859">More...</a><br /></td></tr>
<tr class="separator:aaf4846ebb330ea7ad36adb058ba2b859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b2d82dd158e9e50136417c0e672947"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classarith__uint256.html">arith_uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#a11b2d82dd158e9e50136417c0e672947">nLastPreciousChainwork</a> = 0</td></tr>
<tr class="memdesc:a11b2d82dd158e9e50136417c0e672947"><td class="mdescLeft">&#160;</td><td class="mdescRight">chainwork for the last block that preciousblock has been applied to.  <a href="#a11b2d82dd158e9e50136417c0e672947">More...</a><br /></td></tr>
<tr class="separator:a11b2d82dd158e9e50136417c0e672947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8f98bd6ec8b390cabac6e84dc3778b7"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_c_block_index.html">CBlockIndex</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_chain_state.html#aa8f98bd6ec8b390cabac6e84dc3778b7">g_failed_blocks</a></td></tr>
<tr class="memdesc:aa8f98bd6ec8b390cabac6e84dc3778b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">In order to efficiently track invalidity of headers, we keep the set of blocks which we tried to connect and found to be invalid here (ie which were set to BLOCK_FAILED_VALID since the last restart).  <a href="#aa8f98bd6ec8b390cabac6e84dc3778b7">More...</a><br /></td></tr>
<tr class="separator:aa8f98bd6ec8b390cabac6e84dc3778b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_c_chain_state.html" title="CChainState stores and provides an API to update our local knowledge of the current best chain and he...">CChainState</a> stores and provides an API to update our local knowledge of the current best chain and header tree. </p>
<p>It generally provides access to the current block tree, as well as functions to provide new data, which it will appropriately validate and incorporate in its state as necessary.</p>
<p>Eventually, the API here is targeted at being exposed externally as a consumable libconsensus library, so any functions added must only call other class member functions, pure functions in other parts of the consensus library, callbacks via the validation interface, or read/write-to-disk functions (eventually this will also be via callbacks). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00117">117</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae4c089f033fefc9f5e10cda9af6a3a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4c089f033fefc9f5e10cda9af6a3a9a">&#9670;&nbsp;</a></span>AcceptBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::AcceptBlock </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> **&#160;</td>
          <td class="paramname"><em>ppindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fRequested</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c_disk_block_pos.html">CDiskBlockPos</a> *&#160;</td>
          <td class="paramname"><em>dbp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>fNewBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store block on disk. </p>
<p>If dbp is non-nullptr, the file is known to already reside on disk </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03722">3722</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l03603">AcceptBlockHeader()</a>, <a class="el" href="net__processing_8cpp.html#a37e6419b0b18c99c5296b5a18c19e954">AssertLockHeld()</a>, <a class="el" href="chain_8h_source.html#l00158">BLOCK_FAILED_VALID</a>, <a class="el" href="chain_8h_source.html#l00154">BLOCK_HAVE_DATA</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l03417">CheckBlock()</a>, <a class="el" href="validation_8cpp_source.html#l04694">CheckBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l03543">ContextualCheckBlock()</a>, <a class="el" href="consensus_2validation_8h_source.html#l00077">CValidationState::CorruptionPossible()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="consensus_2validation_8h_source.html#l00055">CValidationState::Error()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="validation_8cpp_source.html#l00304">FLUSH_STATE_NONE</a>, <a class="el" href="validation_8cpp_source.html#l02414">FlushStateToDisk()</a>, <a class="el" href="validation_8cpp_source.html#l00513">FormatStateMessage()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="validationinterface_8cpp_source.html#l00079">GetMainSignals()</a>, <a class="el" href="chain_8h_source.html#l00484">CChain::Height()</a>, <a class="el" href="validation_8cpp_source.html#l01219">IsInitialBlockDownload()</a>, <a class="el" href="consensus_2validation_8h_source.html#l00064">CValidationState::IsInvalid()</a>, <a class="el" href="chain_8h_source.html#l00116">CDiskBlockPos::IsNull()</a>, <a class="el" href="validation_8h_source.html#l00207">MIN_BLOCKS_TO_KEEP</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="validationinterface_8cpp_source.html#l00214">CMainSignals::NewPoWValidBlock()</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="validation_8cpp_source.html#l00244">nMinimumChainWork</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="chain_8h_source.html#l00199">CBlockIndex::nTx</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="validation_8cpp_source.html#l03267">ReceivedBlockTransactions()</a>, <a class="el" href="validation_8cpp_source.html#l03703">SaveBlockToDisk()</a>, <a class="el" href="tinyformat_8h_source.html#l01066">strprintf</a>, and <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04576">LoadExternalBlockFile()</a>, <a class="el" href="validation_8cpp_source.html#l04538">LoadGenesisBlock()</a>, and <a class="el" href="validation_8cpp_source.html#l03803">ProcessNewBlock()</a>.</p>

</div>
</div>
<a id="a059db2048ce030760838426613dfc3e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059db2048ce030760838426613dfc3e7">&#9670;&nbsp;</a></span>AcceptBlockHeader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::AcceptBlockHeader </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block_header.html">CBlockHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> **&#160;</td>
          <td class="paramname"><em>ppindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03603">3603</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validationinterface_8cpp_source.html#l00218">CMainSignals::AcceptedBlockHeader()</a>, <a class="el" href="validation_8cpp_source.html#l03222">AddToBlockIndex()</a>, <a class="el" href="net__processing_8cpp.html#a37e6419b0b18c99c5296b5a18c19e954">AssertLockHeld()</a>, <a class="el" href="chain_8h_source.html#l00162">BLOCK_CONFLICT_CHAINLOCK</a>, <a class="el" href="chain_8h_source.html#l00159">BLOCK_FAILED_CHILD</a>, <a class="el" href="chain_8h_source.html#l00160">BLOCK_FAILED_MASK</a>, <a class="el" href="chain_8h_source.html#l00158">BLOCK_FAILED_VALID</a>, <a class="el" href="chain_8h_source.html#l00148">BLOCK_VALID_SCRIPTS</a>, <a class="el" href="quorums__chainlocks_8cpp_source.html#l00024">llmq::chainLocksHandler</a>, <a class="el" href="validation_8cpp_source.html#l03400">CheckBlockHeader()</a>, <a class="el" href="validation_8cpp_source.html#l04694">CheckBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l03488">ContextualCheckBlockHeader()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="consensus_2validation_8h_source.html#l00036">CValidationState::DoS()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="validation_8cpp_source.html#l00513">FormatStateMessage()</a>, <a class="el" href="validation_8cpp_source.html#l00156">g_failed_blocks</a>, <a class="el" href="timedata_8cpp_source.html#l00035">GetAdjustedTime()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="block_8cpp_source.html#l00014">CBlockHeader::GetHash()</a>, <a class="el" href="validationinterface_8cpp_source.html#l00079">GetMainSignals()</a>, <a class="el" href="params_8h_source.html#l00131">Consensus::Params::hashGenesisBlock</a>, <a class="el" href="block_8h_source.html#l00025">CBlockHeader::hashPrevBlock</a>, <a class="el" href="consensus_2validation_8h_source.html#l00050">CValidationState::Invalid()</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="consensus_2validation_8h_source.html#l00013">REJECT_INVALID</a>, and <a class="el" href="uint256_8cpp_source.html#l00062">base_blob&lt; BITS &gt;::ToString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03722">AcceptBlock()</a>, and <a class="el" href="validation_8cpp_source.html#l03682">ProcessNewBlockHeaders()</a>.</p>

</div>
</div>
<a id="a5a24c6da53ff4b725e2d1c8b4af007fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a24c6da53ff4b725e2d1c8b4af007fe">&#9670;&nbsp;</a></span>ActivateBestChain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ActivateBestChain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt;&#160;</td>
          <td class="paramname"><em>pblock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make the best chain active, in multiple steps. </p>
<p>The result is either failure or an activated best chain. pblock is either nullptr or a pointer to a block that is already loaded (to avoid loading it again from disk). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02981">2981</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l02873">ActivateBestChainStep()</a>, <a class="el" href="sync_8h_source.html#l00088">AssertLockNotHeld</a>, <a class="el" href="validationinterface_8cpp_source.html#l00188">CMainSignals::BlockConnected()</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l04694">CheckBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="validation_8h_source.html#l00141">DEFAULT_STOPATHEIGHT</a>, <a class="el" href="chain_8cpp_source.html#l00051">CChain::FindFork()</a>, <a class="el" href="validation_8cpp_source.html#l02803">FindMostWorkChain()</a>, <a class="el" href="validation_8cpp_source.html#l00306">FLUSH_STATE_PERIODIC</a>, <a class="el" href="validation_8cpp_source.html#l02414">FlushStateToDisk()</a>, <a class="el" href="util_8cpp_source.html#l00108">gArgs</a>, <a class="el" href="util_8cpp_source.html#l00808">ArgsManager::GetArg()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="validation_8cpp_source.html#l02715">ConnectTrace::GetBlocksConnected()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="validationinterface_8cpp_source.html#l00079">GetMainSignals()</a>, <a class="el" href="validation_8cpp_source.html#l01219">IsInitialBlockDownload()</a>, <a class="el" href="sync_8h_source.html#l00178">LOCK</a>, <a class="el" href="validation_8h.html#abc71256f703e47c9254093e32ed2994c">mempool</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="ui__interface_8h_source.html#l00105">CClientUIInterface::NotifyBlockTip</a>, <a class="el" href="init_8cpp_source.html#l00179">ShutdownRequested()</a>, <a class="el" href="init_8cpp_source.html#l00171">StartShutdown()</a>, <a class="el" href="validationinterface_8cpp_source.html#l00178">CMainSignals::SynchronousUpdatedBlockTip()</a>, <a class="el" href="validationinterface_8cpp_source.html#l00154">SyncWithValidationInterfaceQueue()</a>, <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>, <a class="el" href="ui__interface_8cpp_source.html#l00008">uiInterface</a>, and <a class="el" href="validationinterface_8cpp_source.html#l00172">CMainSignals::UpdatedBlockTip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03072">ActivateBestChain()</a>, <a class="el" href="validation_8cpp_source.html#l03076">PreciousBlock()</a>, and <a class="el" href="validation_8cpp_source.html#l03803">ProcessNewBlock()</a>.</p>

</div>
</div>
<a id="a14d226df8dd7502d039f98b58f1534d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d226df8dd7502d039f98b58f1534d4">&#9670;&nbsp;</a></span>ActivateBestChainStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ActivateBestChainStep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindexMostWork</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>fInvalidFound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;&#160;</td>
          <td class="paramname"><em>connectTrace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to make some progress towards making pindexMostWork the active block. </p>
<p>pblock is either nullptr or a pointer to a <a class="el" href="class_c_block.html">CBlock</a> corresponding to pindexMostWork. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02873">2873</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="net__processing_8cpp.html#a37e6419b0b18c99c5296b5a18c19e954">AssertLockHeld()</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="txmempool_8cpp_source.html#l01013">CTxMemPool::check()</a>, <a class="el" href="validation_8cpp_source.html#l01263">CheckForkWarningConditions()</a>, <a class="el" href="validation_8cpp_source.html#l01311">CheckForkWarningConditionsOnNewFork()</a>, <a class="el" href="validation_8cpp_source.html#l02741">ConnectTip()</a>, <a class="el" href="consensus_2validation_8h_source.html#l00077">CValidationState::CorruptionPossible()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="validation_8cpp_source.html#l02615">DisconnectTip()</a>, <a class="el" href="chain_8cpp_source.html#l00051">CChain::FindFork()</a>, <a class="el" href="chain_8cpp_source.html#l00110">CBlockIndex::GetAncestor()</a>, <a class="el" href="validation_8cpp_source.html#l01344">InvalidChainFound()</a>, <a class="el" href="consensus_2validation_8h_source.html#l00064">CValidationState::IsInvalid()</a>, <a class="el" href="validation_8h.html#abc71256f703e47c9254093e32ed2994c">mempool</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="validation_8cpp_source.html#l00300">pcoinsTip</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="validation_8cpp_source.html#l02858">PruneBlockIndexCandidates()</a>, <a class="el" href="reverse__iterator_8h_source.html#l00034">reverse_iterate()</a>, <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>, and <a class="el" href="validation_8cpp_source.html#l00546">UpdateMempoolForReorg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02981">ActivateBestChain()</a>.</p>

</div>
</div>
<a id="ac44f7b33079a2b417be844322dd4a287"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac44f7b33079a2b417be844322dd4a287">&#9670;&nbsp;</a></span>AddGenesisBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::AddGenesisBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04527">4527</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l03222">AddToBlockIndex()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="chain_8h_source.html#l00116">CDiskBlockPos::IsNull()</a>, <a class="el" href="validation_8cpp_source.html#l03267">ReceivedBlockTransactions()</a>, and <a class="el" href="validation_8cpp_source.html#l03703">SaveBlockToDisk()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04538">LoadGenesisBlock()</a>.</p>

</div>
</div>
<a id="a19d07e5b7270ebd08fcd2f415fe2a49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19d07e5b7270ebd08fcd2f415fe2a49f">&#9670;&nbsp;</a></span>AddToBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a> * CChainState::AddToBlockIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block_header.html">CBlockHeader</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="chain_8h.html#a0d8c285f70a59a32f4f6ab41b78f93ad">BlockStatus</a>&#160;</td>
          <td class="paramname"><em>nStatus</em> = <code><a class="el" href="chain_8h.html#a0d8c285f70a59a32f4f6ab41b78f93ada67f3a88eeb793cc62f427f87ae830573">BLOCK_VALID_TREE</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03222">3222</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="chain_8h_source.html#l00151">BLOCK_VALID_MASK</a>, <a class="el" href="chain_8h_source.html#l00134">BLOCK_VALID_TREE</a>, <a class="el" href="chain_8cpp_source.html#l00121">GetBlockProof()</a>, <a class="el" href="block_8cpp_source.html#l00014">CBlockHeader::GetHash()</a>, <a class="el" href="block_8h_source.html#l00025">CBlockHeader::hashPrevBlock</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="validation_8cpp_source.html#l00161">mapPrevBlockIndex</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="chain_8h_source.html#l00217">CBlockIndex::nSequenceId</a>, <a class="el" href="validation_8cpp_source.html#l00218">pindexBestHeader</a>, and <a class="el" href="chain_8h_source.html#l00342">CBlockIndex::RaiseValidity()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03603">AcceptBlockHeader()</a>, and <a class="el" href="validation_8cpp_source.html#l04527">AddGenesisBlock()</a>.</p>

</div>
</div>
<a id="a48cfb3ace8393f98f940b02876377f97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48cfb3ace8393f98f940b02876377f97">&#9670;&nbsp;</a></span>CheckBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::CheckBlockIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_consensus_1_1_params.html">Consensus::Params</a> &amp;&#160;</td>
          <td class="paramname"><em>consensusParams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04694">4694</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="chain_8h_source.html#l00160">BLOCK_FAILED_MASK</a>, <a class="el" href="chain_8h_source.html#l00158">BLOCK_FAILED_VALID</a>, <a class="el" href="chain_8h_source.html#l00154">BLOCK_HAVE_DATA</a>, <a class="el" href="chain_8h_source.html#l00155">BLOCK_HAVE_UNDO</a>, <a class="el" href="chain_8h_source.html#l00145">BLOCK_VALID_CHAIN</a>, <a class="el" href="chain_8h_source.html#l00151">BLOCK_VALID_MASK</a>, <a class="el" href="chain_8h_source.html#l00148">BLOCK_VALID_SCRIPTS</a>, <a class="el" href="chain_8h_source.html#l00141">BLOCK_VALID_TRANSACTIONS</a>, <a class="el" href="chain_8h_source.html#l00134">BLOCK_VALID_TREE</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="validation_8cpp_source.html#l00234">fCheckBlockIndex</a>, <a class="el" href="validation_8cpp_source.html#l00229">fHavePruned</a>, <a class="el" href="chain_8h_source.html#l00448">CChain::Genesis()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="params_8h_source.html#l00131">Consensus::Params::hashGenesisBlock</a>, <a class="el" href="chain_8h_source.html#l00484">CChain::Height()</a>, <a class="el" href="sync_8h_source.html#l00178">LOCK</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="validation_8cpp_source.html#l00162">mapBlocksUnlinked</a>, <a class="el" href="chain_8h_source.html#l00204">CBlockIndex::nChainTx</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="chain_8h_source.html#l00217">CBlockIndex::nSequenceId</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="chain_8h_source.html#l00199">CBlockIndex::nTx</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="chain_8h_source.html#l00180">CBlockIndex::pskip</a>, <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>, and <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03722">AcceptBlock()</a>, <a class="el" href="validation_8cpp_source.html#l03603">AcceptBlockHeader()</a>, and <a class="el" href="validation_8cpp_source.html#l02981">ActivateBestChain()</a>.</p>

</div>
</div>
<a id="a6c0c017d41977fe6552ecfd1fc7c887d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0c017d41977fe6552ecfd1fc7c887d">&#9670;&nbsp;</a></span>ConnectBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ConnectBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fJustCheck</em> = <code><a class="el" href="bls__dkg_8cpp.html#acbfefceb9a9a73343ae3d5a25009f29c">false</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply the effects of this block (with given index) on the UTXO set represented by coins. </p>
<p>Validity checks that depend on the UTXO set are also done; <a class="el" href="class_c_chain_state.html#a6c0c017d41977fe6552ecfd1fc7c887d" title="Apply the effects of this block (with given index) on the UTXO set represented by coins...">ConnectBlock()</a> can fail if those validity checks fail (among other reasons). </p>
<p>DASH: Check superblock start</p>
<p>END DASH </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01983">1983</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="coins_8cpp_source.html#l00116">CCoinsViewCache::AccessCoin()</a>, <a class="el" href="checkqueue_8h_source.html#l00198">CCheckQueueControl&lt; T &gt;::Add()</a>, <a class="el" href="net__processing_8cpp.html#a37e6419b0b18c99c5296b5a18c19e954">AssertLockHeld()</a>, <a class="el" href="prevector_8h_source.html#l00318">prevector&lt; N, T, Size, Diff &gt;::begin()</a>, <a class="el" href="util_8h_source.html#l00114">BCLog::BENCHMARK</a>, <a class="el" href="params_8h_source.html#l00150">Consensus::Params::BIP34Hash</a>, <a class="el" href="params_8h_source.html#l00149">Consensus::Params::BIP34Height</a>, <a class="el" href="chain_8h_source.html#l00148">BLOCK_VALID_SCRIPTS</a>, <a class="el" href="quorums__chainlocks_8cpp_source.html#l00024">llmq::chainLocksHandler</a>, <a class="el" href="validation_8cpp_source.html#l03417">CheckBlock()</a>, <a class="el" href="validation_8cpp_source.html#l01432">CheckInputs()</a>, <a class="el" href="tx__verify_8cpp_source.html#l00211">Consensus::CheckTxInputs()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="params_8h_source.html#l00018">Consensus::DEPLOYMENT_CSV</a>, <a class="el" href="params_8h_source.html#l00156">Consensus::Params::DIP0001Height</a>, <a class="el" href="params_8h_source.html#l00158">Consensus::Params::DIP0003Height</a>, <a class="el" href="consensus_2validation_8h_source.html#l00036">CValidationState::DoS()</a>, <a class="el" href="prevector_8h_source.html#l00320">prevector&lt; N, T, Size, Diff &gt;::end()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="evodb_8cpp_source.html#l00007">evoDb</a>, <a class="el" href="validation_8cpp_source.html#l00226">fAddressIndex</a>, <a class="el" href="dash-tx_8cpp_source.html#l00462">flags</a>, <a class="el" href="validation_8cpp_source.html#l00513">FormatStateMessage()</a>, <a class="el" href="validation_8cpp_source.html#l00228">fSpentIndex</a>, <a class="el" href="validation_8cpp_source.html#l00227">fTimestampIndex</a>, <a class="el" href="chain_8cpp_source.html#l00110">CBlockIndex::GetAncestor()</a>, <a class="el" href="coins_8cpp_source.html#l00135">CCoinsViewCache::GetBestBlock()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="chain_8cpp_source.html#l00136">GetBlockProofEquivalentTime()</a>, <a class="el" href="validation_8cpp_source.html#l01931">GetBlockScriptFlags()</a>, <a class="el" href="validation_8cpp_source.html#l01108">GetBlockSubsidy()</a>, <a class="el" href="quorums__instantsend_8cpp_source.html#l01479">llmq::CInstantSendManager::GetConflictingLock()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="block_8cpp_source.html#l00014">CBlockHeader::GetHash()</a>, <a class="el" href="transaction_8h_source.html#l00256">CTransaction::GetHash()</a>, <a class="el" href="utiltime_8cpp_source.html#l00063">GetTimeMicros()</a>, <a class="el" href="tx__verify_8cpp_source.html#l00138">GetTransactionSigOpCount()</a>, <a class="el" href="quorums__chainlocks_8cpp_source.html#l00638">llmq::CChainLocksHandler::HasConflictingChainLock()</a>, <a class="el" href="transaction_8h_source.html#l00029">COutPoint::hash</a>, <a class="el" href="hash_8h_source.html#l00161">Hash160()</a>, <a class="el" href="validation_8cpp_source.html#l00243">hashAssumeValid</a>, <a class="el" href="params_8h_source.html#l00131">Consensus::Params::hashGenesisBlock</a>, <a class="el" href="coins_8cpp_source.html#l00125">CCoinsViewCache::HaveCoin()</a>, <a class="el" href="masternode-payments_8cpp_source.html#l00162">IsBlockPayeeValid()</a>, <a class="el" href="masternode-payments_8cpp_source.html#l00077">IsBlockValueValid()</a>, <a class="el" href="transaction_8h_source.html#l00272">CTransaction::IsCoinBase()</a>, <a class="el" href="uint256_8h_source.html#l00033">base_blob&lt; BITS &gt;::IsNull()</a>, <a class="el" href="script_8cpp_source.html#l00221">CScript::IsPayToPublicKey()</a>, <a class="el" href="script_8cpp_source.html#l00201">CScript::IsPayToPublicKeyHash()</a>, <a class="el" href="script_8cpp_source.html#l00212">CScript::IsPayToScriptHash()</a>, <a class="el" href="spork_8cpp_source.html#l00211">CSporkManager::IsSporkActive()</a>, <a class="el" href="chain_8h_source.html#l00332">CBlockIndex::IsValid()</a>, <a class="el" href="sync_8h_source.html#l00178">LOCK</a>, <a class="el" href="consensus_8h_source.html#l00028">LOCKTIME_VERIFY_SEQUENCE</a>, <a class="el" href="util_8h_source.html#l00214">LogPrint</a>, <a class="el" href="util_8h_source.html#l00203">LogPrintf</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="consensus_8h_source.html#l00017">MaxBlockSigOps()</a>, <a class="el" href="validation_8cpp_source.html#l00065">MICRO</a>, <a class="el" href="validation_8cpp_source.html#l00066">MILLI</a>, <a class="el" href="amount_8h_source.html#l00027">MoneyRange()</a>, <a class="el" href="transaction_8h_source.html#l00030">COutPoint::n</a>, <a class="el" href="chain_8h_source.html#l00213">CBlockIndex::nBits</a>, <a class="el" href="validation_8cpp_source.html#l01978">nBlocksTotal</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="coins_8h_source.html#l00039">Coin::nHeight</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="validation_8cpp_source.html#l00244">nMinimumChainWork</a>, <a class="el" href="validation_8cpp_source.html#l00222">nScriptCheckThreads</a>, <a class="el" href="params_8h_source.html#l00142">Consensus::Params::nSuperblockStartBlock</a>, <a class="el" href="params_8h_source.html#l00143">Consensus::Params::nSuperblockStartHash</a>, <a class="el" href="chain_8h_source.html#l00212">CBlockIndex::nTime</a>, <a class="el" href="validation_8cpp_source.html#l01976">nTimeCallbacks</a>, <a class="el" href="validation_8cpp_source.html#l01965">nTimeCheck</a>, <a class="el" href="validation_8cpp_source.html#l01974">nTimeConnect</a>, <a class="el" href="validation_8cpp_source.html#l01973">nTimeDashSpecific</a>, <a class="el" href="validation_8cpp_source.html#l01966">nTimeForks</a>, <a class="el" href="validation_8cpp_source.html#l01975">nTimeIndex</a>, <a class="el" href="validation_8cpp_source.html#l01968">nTimeISFilter</a>, <a class="el" href="validation_8cpp_source.html#l01971">nTimePayeeValid</a>, <a class="el" href="validation_8cpp_source.html#l01972">nTimeProcessSpecial</a>, <a class="el" href="validation_8cpp_source.html#l01969">nTimeSubsidy</a>, <a class="el" href="validation_8cpp_source.html#l01970">nTimeValueValid</a>, <a class="el" href="validation_8cpp_source.html#l01967">nTimeVerify</a>, <a class="el" href="transaction_8h_source.html#l00147">CTxOut::nValue</a>, <a class="el" href="coins_8h_source.html#l00033">Coin::out</a>, <a class="el" href="chainparams_8cpp_source.html#l00947">Params()</a>, <a class="el" href="validation_8cpp_source.html#l00301">pblocktree</a>, <a class="el" href="chain_8h_source.html#l00174">CBlockIndex::phashBlock</a>, <a class="el" href="validation_8cpp_source.html#l00218">pindexBestHeader</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="transaction_8h_source.html#l00073">CTxIn::prevout</a>, <a class="el" href="specialtx_8cpp_source.html#l00094">ProcessSpecialTxsInBlock()</a>, <a class="el" href="quorums__instantsend_8cpp_source.html#l00040">llmq::quorumInstantSendManager</a>, <a class="el" href="chain_8h_source.html#l00342">CBlockIndex::RaiseValidity()</a>, <a class="el" href="consensus_2validation_8h_source.html#l00013">REJECT_INVALID</a>, <a class="el" href="quorums__instantsend_8cpp_source.html#l01318">llmq::CInstantSendManager::RemoveChainLockConflictingLock()</a>, <a class="el" href="validation_8cpp.html#af5164f3ffba42b258bac4ad736528029">scriptcheckqueue</a>, <a class="el" href="transaction_8h_source.html#l00148">CTxOut::scriptPubKey</a>, <a class="el" href="tx__verify_8cpp_source.html#l00102">SequenceLocks()</a>, <a class="el" href="hash_8h_source.html#l00254">SerializeHash()</a>, <a class="el" href="coins_8cpp_source.html#l00141">CCoinsViewCache::SetBestBlock()</a>, <a class="el" href="uint256_8h_source.html#l00041">base_blob&lt; BITS &gt;::SetNull()</a>, <a class="el" href="spork_8h_source.html#l00025">SPORK_3_INSTANTSEND_BLOCK_FILTERING</a>, <a class="el" href="spork_8cpp_source.html#l00029">sporkManager</a>, <a class="el" href="versionbits_8h_source.html#l00024">THRESHOLD_ACTIVE</a>, <a class="el" href="uint256_8cpp_source.html#l00062">base_blob&lt; BITS &gt;::ToString()</a>, <a class="el" href="uint256_8h_source.html#l00143">uint256S()</a>, <a class="el" href="validation_8cpp_source.html#l01371">UpdateCoins()</a>, <a class="el" href="validation_8cpp_source.html#l01872">versionbitscache</a>, <a class="el" href="versionbits_8cpp_source.html#l00245">VersionBitsState()</a>, <a class="el" href="transaction_8h_source.html#l00215">CTransaction::vin</a>, <a class="el" href="transaction_8h_source.html#l00216">CTransaction::vout</a>, <a class="el" href="block_8h_source.html#l00076">CBlock::vtx</a>, <a class="el" href="undo_8h_source.html#l00101">CBlockUndo::vtxundo</a>, <a class="el" href="checkqueue_8h_source.html#l00189">CCheckQueueControl&lt; T &gt;::Wait()</a>, <a class="el" href="validation_8cpp_source.html#l01844">WriteTxIndexDataForBlock()</a>, and <a class="el" href="validation_8cpp_source.html#l01825">WriteUndoDataForBlock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02741">ConnectTip()</a>, <a class="el" href="validation_8cpp_source.html#l03837">TestBlockValidity()</a>, and <a class="el" href="validation_8cpp_source.html#l04253">CVerifyDB::VerifyDB()</a>.</p>

</div>
</div>
<a id="a7b8212270ad8b00cc1daad6f38623654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8212270ad8b00cc1daad6f38623654">&#9670;&nbsp;</a></span>ConnectTip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ConnectTip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindexNew</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; const <a class="el" href="class_c_block.html">CBlock</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>pblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_connect_trace.html">ConnectTrace</a> &amp;&#160;</td>
          <td class="paramname"><em>connectTrace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> &amp;&#160;</td>
          <td class="paramname"><em>disconnectpool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect a new block to chainActive. </p>
<p>pblock is either nullptr or a pointer to a <a class="el" href="class_c_block.html">CBlock</a> corresponding to pindexNew, to bypass loading it again from disk.</p>
<p>The block is added to connectTrace if connection succeeds. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02741">2741</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="util_8h_source.html#l00114">BCLog::BENCHMARK</a>, <a class="el" href="validationinterface_8cpp_source.html#l00210">CMainSignals::BlockChecked()</a>, <a class="el" href="validation_8cpp_source.html#l02706">ConnectTrace::BlockConnected()</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l01983">ConnectBlock()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="evodb_8cpp_source.html#l00007">evoDb</a>, <a class="el" href="validation_8cpp_source.html#l00305">FLUSH_STATE_IF_NEEDED</a>, <a class="el" href="validation_8cpp_source.html#l02414">FlushStateToDisk()</a>, <a class="el" href="validation_8cpp_source.html#l00513">FormatStateMessage()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="validationinterface_8cpp_source.html#l00079">GetMainSignals()</a>, <a class="el" href="utiltime_8cpp_source.html#l00063">GetTimeMicros()</a>, <a class="el" href="validation_8cpp_source.html#l01361">InvalidBlockFound()</a>, <a class="el" href="consensus_2validation_8h_source.html#l00064">CValidationState::IsInvalid()</a>, <a class="el" href="util_8h_source.html#l00214">LogPrint</a>, <a class="el" href="validation_8h.html#abc71256f703e47c9254093e32ed2994c">mempool</a>, <a class="el" href="validation_8cpp_source.html#l00065">MICRO</a>, <a class="el" href="validation_8cpp_source.html#l00066">MILLI</a>, <a class="el" href="validation_8cpp_source.html#l01978">nBlocksTotal</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="validation_8cpp_source.html#l02667">nTimeChainState</a>, <a class="el" href="validation_8cpp_source.html#l02665">nTimeConnectTotal</a>, <a class="el" href="validation_8cpp_source.html#l02666">nTimeFlush</a>, <a class="el" href="validation_8cpp_source.html#l02668">nTimePostConnect</a>, <a class="el" href="validation_8cpp_source.html#l02664">nTimeReadFromDisk</a>, <a class="el" href="validation_8cpp_source.html#l01977">nTimeTotal</a>, <a class="el" href="validation_8cpp_source.html#l00300">pcoinsTip</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="validation_8cpp_source.html#l01043">ReadBlockFromDisk()</a>, <a class="el" href="txmempool_8cpp_source.html#l00953">CTxMemPool::removeForBlock()</a>, <a class="el" href="txmempool_8h_source.html#l00811">DisconnectedBlockTransactions::removeForBlock()</a>, <a class="el" href="chain_8cpp_source.html#l00011">CChain::SetTip()</a>, <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>, <a class="el" href="uint256_8cpp_source.html#l00062">base_blob&lt; BITS &gt;::ToString()</a>, <a class="el" href="validation_8cpp_source.html#l02550">UpdateTip()</a>, and <a class="el" href="block_8h_source.html#l00076">CBlock::vtx</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02873">ActivateBestChainStep()</a>.</p>

</div>
</div>
<a id="a84c2802e12d40109c2189bfa8a5e0e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c2802e12d40109c2189bfa8a5e0e8f">&#9670;&nbsp;</a></span>DisconnectBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="validation_8cpp.html#aeaef80b01ee5387f474a63ed23c9cc50">DisconnectResult</a> CChainState::DisconnectBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Undo the effects of this block (with given index) on the UTXO set represented by coins. </p>
<p>When FAILED is returned, view is left in an indeterminate state. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01631">1631</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="coins_8cpp_source.html#l00116">CCoinsViewCache::AccessCoin()</a>, <a class="el" href="validation_8cpp_source.html#l01602">ApplyTxInUndo()</a>, <a class="el" href="prevector_8h_source.html#l00318">prevector&lt; N, T, Size, Diff &gt;::begin()</a>, <a class="el" href="params_8h_source.html#l00158">Consensus::Params::DIP0003Height</a>, <a class="el" href="validation_8cpp_source.html#l00098">DISCONNECT_FAILED</a>, <a class="el" href="validation_8cpp_source.html#l00096">DISCONNECT_OK</a>, <a class="el" href="validation_8cpp_source.html#l00097">DISCONNECT_UNCLEAN</a>, <a class="el" href="prevector_8h_source.html#l00320">prevector&lt; N, T, Size, Diff &gt;::end()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="evodb_8cpp_source.html#l00007">evoDb</a>, <a class="el" href="validation_8cpp_source.html#l00226">fAddressIndex</a>, <a class="el" href="coins_8h_source.html#l00036">Coin::fCoinBase</a>, <a class="el" href="validation_8cpp_source.html#l00228">fSpentIndex</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="transaction_8h_source.html#l00256">CTransaction::GetHash()</a>, <a class="el" href="transaction_8h_source.html#l00029">COutPoint::hash</a>, <a class="el" href="hash_8h_source.html#l00161">Hash160()</a>, <a class="el" href="transaction_8h_source.html#l00272">CTransaction::IsCoinBase()</a>, <a class="el" href="script_8cpp_source.html#l00221">CScript::IsPayToPublicKey()</a>, <a class="el" href="script_8cpp_source.html#l00201">CScript::IsPayToPublicKeyHash()</a>, <a class="el" href="script_8cpp_source.html#l00212">CScript::IsPayToScriptHash()</a>, <a class="el" href="transaction_8h_source.html#l00030">COutPoint::n</a>, <a class="el" href="coins_8h_source.html#l00039">Coin::nHeight</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="transaction_8h_source.html#l00147">CTxOut::nValue</a>, <a class="el" href="coins_8h_source.html#l00033">Coin::out</a>, <a class="el" href="chainparams_8cpp_source.html#l00947">Params()</a>, <a class="el" href="validation_8cpp_source.html#l00301">pblocktree</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="transaction_8h_source.html#l00073">CTxIn::prevout</a>, <a class="el" href="transaction_8h_source.html#l00148">CTxOut::scriptPubKey</a>, <a class="el" href="coins_8cpp_source.html#l00141">CCoinsViewCache::SetBestBlock()</a>, <a class="el" href="coins_8cpp_source.html#l00098">CCoinsViewCache::SpendCoin()</a>, <a class="el" href="specialtx_8cpp_source.html#l00150">UndoSpecialTxsInBlock()</a>, <a class="el" href="transaction_8h_source.html#l00215">CTransaction::vin</a>, <a class="el" href="transaction_8h_source.html#l00216">CTransaction::vout</a>, <a class="el" href="undo_8h_source.html#l00070">CTxUndo::vprevout</a>, <a class="el" href="block_8h_source.html#l00076">CBlock::vtx</a>, and <a class="el" href="undo_8h_source.html#l00101">CBlockUndo::vtxundo</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02615">DisconnectTip()</a>, <a class="el" href="validation_8cpp_source.html#l04378">ReplayBlocks()</a>, and <a class="el" href="validation_8cpp_source.html#l04253">CVerifyDB::VerifyDB()</a>.</p>

</div>
</div>
<a id="a57682556dc35715fba5f0c6075efcc6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57682556dc35715fba5f0c6075efcc6e">&#9670;&nbsp;</a></span>DisconnectTip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::DisconnectTip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_disconnected_block_transactions.html">DisconnectedBlockTransactions</a> *&#160;</td>
          <td class="paramname"><em>disconnectpool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect chainActive's tip. </p>
<p>After calling, the mempool will be in an inconsistent state, with transactions from disconnected blocks being added to disconnectpool. You should make the mempool consistent again by calling UpdateMempoolForReorg. with cs_main held.</p>
<p>If disconnectpool is nullptr, then no disconnected transactions are added to disconnectpool (note that the caller is responsible for mempool consistency in any case). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02615">2615</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="txmempool_8h_source.html#l00804">DisconnectedBlockTransactions::addTransaction()</a>, <a class="el" href="util_8h_source.html#l00114">BCLog::BENCHMARK</a>, <a class="el" href="validationinterface_8cpp_source.html#l00194">CMainSignals::BlockDisconnected()</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l00096">DISCONNECT_OK</a>, <a class="el" href="validation_8cpp_source.html#l01631">DisconnectBlock()</a>, <a class="el" href="txmempool_8h_source.html#l00800">DisconnectedBlockTransactions::DynamicMemoryUsage()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="evodb_8cpp_source.html#l00007">evoDb</a>, <a class="el" href="validation_8cpp_source.html#l00305">FLUSH_STATE_IF_NEEDED</a>, <a class="el" href="validation_8cpp_source.html#l02414">FlushStateToDisk()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="validationinterface_8cpp_source.html#l00079">GetMainSignals()</a>, <a class="el" href="utiltime_8cpp_source.html#l00063">GetTimeMicros()</a>, <a class="el" href="util_8h_source.html#l00214">LogPrint</a>, <a class="el" href="validation_8h_source.html#l00074">MAX_DISCONNECTED_TX_POOL_SIZE</a>, <a class="el" href="validation_8h.html#abc71256f703e47c9254093e32ed2994c">mempool</a>, <a class="el" href="validation_8cpp_source.html#l00066">MILLI</a>, <a class="el" href="validation_8cpp_source.html#l00300">pcoinsTip</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="txmempool_8h_source.html#l00795">DisconnectedBlockTransactions::queuedTx</a>, <a class="el" href="validation_8cpp_source.html#l01043">ReadBlockFromDisk()</a>, <a class="el" href="txmempool_8h_source.html#l00827">DisconnectedBlockTransactions::removeEntry()</a>, <a class="el" href="txmempool_8cpp_source.html#l00725">CTxMemPool::removeRecursive()</a>, <a class="el" href="txmempool_8h.html#a2bc6653552b5871101b6cbefdbaf251fae8dd7fa48e6491a8929b38fa835dd1c6">REORG</a>, <a class="el" href="chain_8cpp_source.html#l00011">CChain::SetTip()</a>, <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>, <a class="el" href="uint256_8cpp_source.html#l00062">base_blob&lt; BITS &gt;::ToString()</a>, and <a class="el" href="validation_8cpp_source.html#l02550">UpdateTip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02873">ActivateBestChainStep()</a>, and <a class="el" href="validation_8cpp_source.html#l03108">InvalidateBlock()</a>.</p>

</div>
</div>
<a id="a88336990c447e935c05777f4b2cfb3ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88336990c447e935c05777f4b2cfb3ff">&#9670;&nbsp;</a></span>FindMostWorkChain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a> * CChainState::FindMostWorkChain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the tip of the chain with the most work in it, that isn't known to be invalid (it's however far from certain to be valid). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02803">2803</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="chain_8h_source.html#l00159">BLOCK_FAILED_CHILD</a>, <a class="el" href="chain_8h_source.html#l00160">BLOCK_FAILED_MASK</a>, <a class="el" href="chain_8h_source.html#l00154">BLOCK_HAVE_DATA</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="chain_8h_source.html#l00471">CChain::Contains()</a>, <a class="el" href="validation_8cpp_source.html#l00162">mapBlocksUnlinked</a>, <a class="el" href="chain_8h_source.html#l00204">CBlockIndex::nChainTx</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="validation_8cpp_source.html#l00163">pindexBestInvalid</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, and <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02981">ActivateBestChain()</a>.</p>

</div>
</div>
<a id="aec6306c9d32c3652dd68503e3ef838bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6306c9d32c3652dd68503e3ef838bc">&#9670;&nbsp;</a></span>InsertBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a> * CChainState::InsertBlockIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classuint256.html">uint256</a> &amp;&#160;</td>
          <td class="paramname"><em>hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new block index entry for a given block hash. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04070">4070</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="uint256_8h_source.html#l00033">base_blob&lt; BITS &gt;::IsNull()</a>, and <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>.</p>

</div>
</div>
<a id="a656ebb0e37670a16714f0be1c572468b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a656ebb0e37670a16714f0be1c572468b">&#9670;&nbsp;</a></span>InvalidateBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::InvalidateBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03108">3108</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="net__processing_8cpp.html#a37e6419b0b18c99c5296b5a18c19e954">AssertLockHeld()</a>, <a class="el" href="chain_8h_source.html#l00159">BLOCK_FAILED_CHILD</a>, <a class="el" href="chain_8h_source.html#l00158">BLOCK_FAILED_VALID</a>, <a class="el" href="chain_8h_source.html#l00141">BLOCK_VALID_TRANSACTIONS</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="chain_8h_source.html#l00471">CChain::Contains()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="validation_8cpp_source.html#l02615">DisconnectTip()</a>, <a class="el" href="validation_8cpp_source.html#l00156">g_failed_blocks</a>, <a class="el" href="validationinterface_8cpp_source.html#l00079">GetMainSignals()</a>, <a class="el" href="validation_8cpp_source.html#l01344">InvalidChainFound()</a>, <a class="el" href="validation_8cpp_source.html#l01219">IsInitialBlockDownload()</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="ui__interface_8h_source.html#l00105">CClientUIInterface::NotifyBlockTip</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="validation_8cpp_source.html#l00218">pindexBestHeader</a>, <a class="el" href="validation_8cpp_source.html#l00163">pindexBestInvalid</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>, <a class="el" href="validationinterface_8cpp_source.html#l00178">CMainSignals::SynchronousUpdatedBlockTip()</a>, <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>, <a class="el" href="ui__interface_8cpp_source.html#l00008">uiInterface</a>, <a class="el" href="validationinterface_8cpp_source.html#l00172">CMainSignals::UpdatedBlockTip()</a>, and <a class="el" href="validation_8cpp_source.html#l00546">UpdateMempoolForReorg()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03180">InvalidateBlock()</a>.</p>

</div>
</div>
<a id="a0087944413aa4c30c7ef1644a1ad9f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0087944413aa4c30c7ef1644a1ad9f3a">&#9670;&nbsp;</a></span>InvalidBlockFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::InvalidBlockFound </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l01361">1361</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="chain_8h_source.html#l00158">BLOCK_FAILED_VALID</a>, <a class="el" href="consensus_2validation_8h_source.html#l00077">CValidationState::CorruptionPossible()</a>, <a class="el" href="validation_8cpp_source.html#l00156">g_failed_blocks</a>, <a class="el" href="validation_8cpp_source.html#l01344">InvalidChainFound()</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, and <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02741">ConnectTip()</a>.</p>

</div>
</div>
<a id="a3bd618dffc998e987d94f03d45353314"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd618dffc998e987d94f03d45353314">&#9670;&nbsp;</a></span>LoadBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::LoadBlockIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_consensus_1_1_params.html">Consensus::Params</a> &amp;&#160;</td>
          <td class="paramname"><em>consensus_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_tree_d_b.html">CBlockTreeDB</a> &amp;&#160;</td>
          <td class="paramname"><em>blocktree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04088">4088</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="chain_8h_source.html#l00159">BLOCK_FAILED_CHILD</a>, <a class="el" href="chain_8h_source.html#l00160">BLOCK_FAILED_MASK</a>, <a class="el" href="chain_8h_source.html#l00141">BLOCK_VALID_TRANSACTIONS</a>, <a class="el" href="chain_8h_source.html#l00134">BLOCK_VALID_TREE</a>, <a class="el" href="chain_8cpp_source.html#l00115">CBlockIndex::BuildSkip()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="chain_8cpp_source.html#l00121">GetBlockProof()</a>, <a class="el" href="chain_8h_source.html#l00332">CBlockIndex::IsValid()</a>, <a class="el" href="txdb_8cpp_source.html#l00416">CBlockTreeDB::LoadBlockIndexGuts()</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="validation_8cpp_source.html#l00162">mapBlocksUnlinked</a>, <a class="el" href="validation_8cpp_source.html#l00161">mapPrevBlockIndex</a>, <a class="el" href="chain_8h_source.html#l00204">CBlockIndex::nChainTx</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="chain_8h_source.html#l00212">CBlockIndex::nTime</a>, <a class="el" href="chain_8h_source.html#l00220">CBlockIndex::nTimeMax</a>, <a class="el" href="chain_8h_source.html#l00199">CBlockIndex::nTx</a>, <a class="el" href="validation_8cpp_source.html#l00218">pindexBestHeader</a>, <a class="el" href="validation_8cpp_source.html#l00163">pindexBestInvalid</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, and <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04145">LoadBlockIndexDB()</a>.</p>

</div>
</div>
<a id="a6beb735dce3a8f0182660c04789df961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6beb735dce3a8f0182660c04789df961">&#9670;&nbsp;</a></span>LoadGenesisBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::LoadGenesisBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>chainparams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04538">4538</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l03722">AcceptBlock()</a>, <a class="el" href="validation_8cpp_source.html#l04527">AddGenesisBlock()</a>, <a class="el" href="validation_8cpp_source.html#l03417">CheckBlock()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="chainparamsbase_8h_source.html#l00022">CBaseChainParams::DEVNET</a>, <a class="el" href="chainparams_8h_source.html#l00059">CChainParams::DevNetGenesisBlock()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="chainparams_8h_source.html#l00058">CChainParams::GenesisBlock()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="block_8cpp_source.html#l00014">CBlockHeader::GetHash()</a>, <a class="el" href="sync_8h_source.html#l00178">LOCK</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, and <a class="el" href="chainparams_8h_source.html#l00076">CChainParams::NetworkIDString()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04571">LoadGenesisBlock()</a>.</p>

</div>
</div>
<a id="a9e55c3c2a30535273288ae68fdfcac88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e55c3c2a30535273288ae68fdfcac88">&#9670;&nbsp;</a></span>PreciousBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::PreciousBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03076">3076</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l02981">ActivateBestChain()</a>, <a class="el" href="chain_8h_source.html#l00141">BLOCK_VALID_TRANSACTIONS</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="chain_8h_source.html#l00332">CBlockIndex::IsValid()</a>, <a class="el" href="sync_8h_source.html#l00178">LOCK</a>, <a class="el" href="validation_8cpp_source.html#l00134">nBlockReverseSequenceId</a>, <a class="el" href="chain_8h_source.html#l00204">CBlockIndex::nChainTx</a>, <a class="el" href="chain_8h_source.html#l00195">CBlockIndex::nChainWork</a>, <a class="el" href="validation_8cpp_source.html#l00136">nLastPreciousChainwork</a>, <a class="el" href="chain_8h_source.html#l00217">CBlockIndex::nSequenceId</a>, <a class="el" href="validation_8cpp_source.html#l02858">PruneBlockIndexCandidates()</a>, <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>, and <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03104">PreciousBlock()</a>.</p>

</div>
</div>
<a id="a6c5ba911dca1f0d59781b9e63a607cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c5ba911dca1f0d59781b9e63a607cd6">&#9670;&nbsp;</a></span>PruneBlockIndexCandidates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::PruneBlockIndexCandidates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all entries in setBlockIndexCandidates that are worse than the current tip. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l02858">2858</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>, and <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02873">ActivateBestChainStep()</a>, <a class="el" href="validation_8cpp_source.html#l04214">LoadChainTip()</a>, and <a class="el" href="validation_8cpp_source.html#l03076">PreciousBlock()</a>.</p>

</div>
</div>
<a id="acad55fb1b706ce951a42cd4d060110b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acad55fb1b706ce951a42cd4d060110b5">&#9670;&nbsp;</a></span>ReceivedBlockTransactions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ReceivedBlockTransactions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block.html">CBlock</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_validation_state.html">CValidationState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindexNew</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c_disk_block_pos.html">CDiskBlockPos</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark a block as having its data received and checked (up to BLOCK_VALID_TRANSACTIONS). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03267">3267</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="chain_8h_source.html#l00154">BLOCK_HAVE_DATA</a>, <a class="el" href="chain_8h_source.html#l00141">BLOCK_VALID_TRANSACTIONS</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l00130">cs_nBlockSequenceId</a>, <a class="el" href="sync_8h_source.html#l00178">LOCK</a>, <a class="el" href="validation_8cpp_source.html#l00162">mapBlocksUnlinked</a>, <a class="el" href="validation_8cpp_source.html#l00132">nBlockSequenceId</a>, <a class="el" href="chain_8h_source.html#l00204">CBlockIndex::nChainTx</a>, <a class="el" href="chain_8h_source.html#l00189">CBlockIndex::nDataPos</a>, <a class="el" href="chain_8h_source.html#l00087">CDiskBlockPos::nFile</a>, <a class="el" href="chain_8h_source.html#l00186">CBlockIndex::nFile</a>, <a class="el" href="chain_8h_source.html#l00088">CDiskBlockPos::nPos</a>, <a class="el" href="chain_8h_source.html#l00217">CBlockIndex::nSequenceId</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="chain_8h_source.html#l00199">CBlockIndex::nTx</a>, <a class="el" href="chain_8h_source.html#l00192">CBlockIndex::nUndoPos</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="chain_8h_source.html#l00342">CBlockIndex::RaiseValidity()</a>, <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>, <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>, and <a class="el" href="block_8h_source.html#l00076">CBlock::vtx</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03722">AcceptBlock()</a>, and <a class="el" href="validation_8cpp_source.html#l04527">AddGenesisBlock()</a>.</p>

</div>
</div>
<a id="a219bb793d4d3b0a095ccc47c45bc5b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a219bb793d4d3b0a095ccc47c45bc5b83">&#9670;&nbsp;</a></span>ReplayBlocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ReplayBlocks </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_coins_view.html">CCoinsView</a> *&#160;</td>
          <td class="paramname"><em>view</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04378">4378</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="util_8h_source.html#l00092">_()</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="validation_8cpp_source.html#l00098">DISCONNECT_FAILED</a>, <a class="el" href="validation_8cpp_source.html#l01631">DisconnectBlock()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="evodb_8cpp_source.html#l00007">evoDb</a>, <a class="el" href="coins_8cpp_source.html#l00203">CCoinsViewCache::Flush()</a>, <a class="el" href="chain_8cpp_source.html#l00110">CBlockIndex::GetAncestor()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="coins_8cpp_source.html#l00012">CCoinsView::GetHeadBlocks()</a>, <a class="el" href="chain_8cpp_source.html#l00155">LastCommonAncestor()</a>, <a class="el" href="sync_8h_source.html#l00178">LOCK</a>, <a class="el" href="util_8h_source.html#l00203">LogPrintf</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="validation_8cpp_source.html#l01043">ReadBlockFromDisk()</a>, <a class="el" href="validation_8cpp_source.html#l04351">RollforwardBlock()</a>, <a class="el" href="coins_8cpp_source.html#l00141">CCoinsViewCache::SetBestBlock()</a>, <a class="el" href="ui__interface_8h_source.html#l00102">CClientUIInterface::ShowProgress</a>, <a class="el" href="uint256_8cpp_source.html#l00062">base_blob&lt; BITS &gt;::ToString()</a>, and <a class="el" href="ui__interface_8cpp_source.html#l00008">uiInterface</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04451">ReplayBlocks()</a>.</p>

</div>
</div>
<a id="a7ed855ca1761c2176651c8082aa9f529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed855ca1761c2176651c8082aa9f529">&#9670;&nbsp;</a></span>ResetBlockFailureFlags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::ResetBlockFailureFlags </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l03184">3184</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="net__processing_8cpp.html#a37e6419b0b18c99c5296b5a18c19e954">AssertLockHeld()</a>, <a class="el" href="chain_8h_source.html#l00160">BLOCK_FAILED_MASK</a>, <a class="el" href="chain_8h_source.html#l00141">BLOCK_VALID_TRANSACTIONS</a>, <a class="el" href="validation_8cpp_source.html#l00159">chainActive</a>, <a class="el" href="validation_8cpp_source.html#l00213">cs_main</a>, <a class="el" href="validation_8cpp_source.html#l00156">g_failed_blocks</a>, <a class="el" href="validation_8cpp_source.html#l00160">mapBlockIndex</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="chain_8h_source.html#l00207">CBlockIndex::nStatus</a>, <a class="el" href="validation_8cpp_source.html#l00163">pindexBestInvalid</a>, <a class="el" href="chain_8h_source.html#l00177">CBlockIndex::pprev</a>, <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>, and <a class="el" href="chain_8h_source.html#l00453">CChain::Tip()</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03218">ResetBlockFailureFlags()</a>.</p>

</div>
</div>
<a id="afc0586502e4dd4092c4a0707d329f6eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc0586502e4dd4092c4a0707d329f6eb">&#9670;&nbsp;</a></span>RewindBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::RewindBlockIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a6a93bf81626b263deef801883f7abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a6a93bf81626b263deef801883f7abc">&#9670;&nbsp;</a></span>RollforwardBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CChainState::RollforwardBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_block_index.html">CBlockIndex</a> *&#160;</td>
          <td class="paramname"><em>pindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_c_coins_view_cache.html">CCoinsViewCache</a> &amp;&#160;</td>
          <td class="paramname"><em>inputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_c_chain_params.html">CChainParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply the effects of a block on the utxo cache, ignoring that it may already have been applied. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04351">4351</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="coins_8cpp_source.html#l00087">AddCoins()</a>, <a class="el" href="util_8h_source.html#l00222">error()</a>, <a class="el" href="validation_8cpp_source.html#l00513">FormatStateMessage()</a>, <a class="el" href="chain_8h_source.html#l00292">CBlockIndex::GetBlockHash()</a>, <a class="el" href="chainparams_8h_source.html#l00054">CChainParams::GetConsensus()</a>, <a class="el" href="chain_8h_source.html#l00183">CBlockIndex::nHeight</a>, <a class="el" href="transaction_8h_source.html#l00073">CTxIn::prevout</a>, <a class="el" href="specialtx_8cpp_source.html#l00094">ProcessSpecialTxsInBlock()</a>, <a class="el" href="validation_8cpp_source.html#l01043">ReadBlockFromDisk()</a>, <a class="el" href="coins_8cpp_source.html#l00098">CCoinsViewCache::SpendCoin()</a>, <a class="el" href="uint256_8cpp_source.html#l00062">base_blob&lt; BITS &gt;::ToString()</a>, and <a class="el" href="block_8h_source.html#l00076">CBlock::vtx</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04378">ReplayBlocks()</a>.</p>

</div>
</div>
<a id="a807d9f23f63726267a1c62bf9c9eecef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807d9f23f63726267a1c62bf9c9eecef">&#9670;&nbsp;</a></span>UnloadBlockIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CChainState::UnloadBlockIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l04455">4455</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">References <a class="el" href="validation_8cpp_source.html#l00156">g_failed_blocks</a>, <a class="el" href="validation_8cpp_source.html#l00132">nBlockSequenceId</a>, and <a class="el" href="validation_8cpp_source.html#l00124">setBlockIndexCandidates</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04464">UnloadBlockIndex()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9b1419f91f5e56c7d4db775526c14e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b1419f91f5e56c7d4db775526c14e0d">&#9670;&nbsp;</a></span>chainActive</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_chain.html">CChain</a> CChainState::chainActive</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00159">159</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03722">AcceptBlock()</a>, <a class="el" href="validation_8cpp_source.html#l02981">ActivateBestChain()</a>, <a class="el" href="validation_8cpp_source.html#l02873">ActivateBestChainStep()</a>, <a class="el" href="validation_8cpp_source.html#l04694">CheckBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l02741">ConnectTip()</a>, <a class="el" href="validation_8cpp_source.html#l02615">DisconnectTip()</a>, <a class="el" href="validation_8cpp_source.html#l02803">FindMostWorkChain()</a>, <a class="el" href="validation_8cpp_source.html#l03108">InvalidateBlock()</a>, <a class="el" href="validation_8cpp_source.html#l03076">PreciousBlock()</a>, <a class="el" href="validation_8cpp_source.html#l02858">PruneBlockIndexCandidates()</a>, <a class="el" href="validation_8cpp_source.html#l03267">ReceivedBlockTransactions()</a>, and <a class="el" href="validation_8cpp_source.html#l03184">ResetBlockFailureFlags()</a>.</p>

</div>
</div>
<a id="ad9e45b0fb23eacbbc2c0675f429d5c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9e45b0fb23eacbbc2c0675f429d5c3b">&#9670;&nbsp;</a></span>cs_nBlockSequenceId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_critical_section.html">CCriticalSection</a> CChainState::cs_nBlockSequenceId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Every received block is assigned a unique and increasing identifier, so we know which one to give priority in case of a fork. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00130">130</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03267">ReceivedBlockTransactions()</a>.</p>

</div>
</div>
<a id="aa8f98bd6ec8b390cabac6e84dc3778b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8f98bd6ec8b390cabac6e84dc3778b7">&#9670;&nbsp;</a></span>g_failed_blocks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_c_block_index.html">CBlockIndex</a>*&gt; CChainState::g_failed_blocks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In order to efficiently track invalidity of headers, we keep the set of blocks which we tried to connect and found to be invalid here (ie which were set to BLOCK_FAILED_VALID since the last restart). </p>
<p>We can then walk this set and check if a new header is a descendant of something in this set, preventing us from having to walk mapBlockIndex when we try to connect a bad block and fail.</p>
<p>While this is more complicated than marking everything which descends from an invalid block as invalid at the time we discover it to be invalid, doing so would require walking all of mapBlockIndex to find all descendants. Since this case should be very rare, keeping track of all BLOCK_FAILED_VALID blocks in a set should be just fine and work just as well.</p>
<p>Because we already walk mapBlockIndex in height-order at startup, we go ahead and mark descendants of invalid blocks as FAILED_CHILD at that time, instead of putting things in this set. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00156">156</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03603">AcceptBlockHeader()</a>, <a class="el" href="validation_8cpp_source.html#l03108">InvalidateBlock()</a>, <a class="el" href="validation_8cpp_source.html#l01361">InvalidBlockFound()</a>, <a class="el" href="validation_8cpp_source.html#l03184">ResetBlockFailureFlags()</a>, and <a class="el" href="validation_8cpp_source.html#l04455">UnloadBlockIndex()</a>.</p>

</div>
</div>
<a id="a95e2cf108ec02553707ae715b3acf0ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e2cf108ec02553707ae715b3acf0ee">&#9670;&nbsp;</a></span>mapBlockIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="validation_8h.html#a6b962fe256607627c8140021ae7a23e1">BlockMap</a> CChainState::mapBlockIndex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00160">160</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03603">AcceptBlockHeader()</a>, <a class="el" href="validation_8cpp_source.html#l03222">AddToBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l04694">CheckBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l01983">ConnectBlock()</a>, <a class="el" href="validation_8cpp_source.html#l04070">InsertBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l03108">InvalidateBlock()</a>, <a class="el" href="validation_8cpp_source.html#l04088">LoadBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l04538">LoadGenesisBlock()</a>, <a class="el" href="validation_8cpp_source.html#l04378">ReplayBlocks()</a>, and <a class="el" href="validation_8cpp_source.html#l03184">ResetBlockFailureFlags()</a>.</p>

</div>
</div>
<a id="a318040c11336b79eddc71e1d3b176f2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318040c11336b79eddc71e1d3b176f2a">&#9670;&nbsp;</a></span>mapBlocksUnlinked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::multimap&lt;<a class="el" href="class_c_block_index.html">CBlockIndex</a>*, <a class="el" href="class_c_block_index.html">CBlockIndex</a>*&gt; CChainState::mapBlocksUnlinked</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00162">162</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04694">CheckBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l02803">FindMostWorkChain()</a>, <a class="el" href="validation_8cpp_source.html#l04088">LoadBlockIndex()</a>, and <a class="el" href="validation_8cpp_source.html#l03267">ReceivedBlockTransactions()</a>.</p>

</div>
</div>
<a id="afa03bcd75f151dc8877ae3b88a1996f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa03bcd75f151dc8877ae3b88a1996f2">&#9670;&nbsp;</a></span>mapPrevBlockIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="validation_8h.html#a96680fea6f816a51a18d938394f06394">PrevBlockMap</a> CChainState::mapPrevBlockIndex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00161">161</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03222">AddToBlockIndex()</a>, and <a class="el" href="validation_8cpp_source.html#l04088">LoadBlockIndex()</a>.</p>

</div>
</div>
<a id="aaf4846ebb330ea7ad36adb058ba2b859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4846ebb330ea7ad36adb058ba2b859">&#9670;&nbsp;</a></span>nBlockReverseSequenceId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t CChainState::nBlockReverseSequenceId = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decreasing counter (used by subsequent preciousblock calls). </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00134">134</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03076">PreciousBlock()</a>.</p>

</div>
</div>
<a id="a04c18ee587d1d516d12a193235eeb1cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c18ee587d1d516d12a193235eeb1cd">&#9670;&nbsp;</a></span>nBlockSequenceId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t CChainState::nBlockSequenceId = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Blocks loaded from disk are assigned id 0, so start the counter at 1. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00132">132</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03267">ReceivedBlockTransactions()</a>, and <a class="el" href="validation_8cpp_source.html#l04455">UnloadBlockIndex()</a>.</p>

</div>
</div>
<a id="a11b2d82dd158e9e50136417c0e672947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b2d82dd158e9e50136417c0e672947">&#9670;&nbsp;</a></span>nLastPreciousChainwork</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classarith__uint256.html">arith_uint256</a> CChainState::nLastPreciousChainwork = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>chainwork for the last block that preciousblock has been applied to. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00136">136</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l03076">PreciousBlock()</a>.</p>

</div>
</div>
<a id="ae0ae491f2e6b031587a5ad35fdafe546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0ae491f2e6b031587a5ad35fdafe546">&#9670;&nbsp;</a></span>pindexBestInvalid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_block_index.html">CBlockIndex</a>* CChainState::pindexBestInvalid = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00163">163</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l02803">FindMostWorkChain()</a>, <a class="el" href="validation_8cpp_source.html#l03108">InvalidateBlock()</a>, <a class="el" href="validation_8cpp_source.html#l04088">LoadBlockIndex()</a>, and <a class="el" href="validation_8cpp_source.html#l03184">ResetBlockFailureFlags()</a>.</p>

</div>
</div>
<a id="a528c14be4a2a7c6837a2d099b2ad7ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528c14be4a2a7c6837a2d099b2ad7ef7">&#9670;&nbsp;</a></span>setBlockIndexCandidates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_c_block_index.html">CBlockIndex</a>*, CBlockIndexWorkComparator&gt; CChainState::setBlockIndexCandidates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The set of all <a class="el" href="class_c_block_index.html" title="The block chain is a tree shaped structure starting with the genesis block at the root...">CBlockIndex</a> entries with BLOCK_VALID_TRANSACTIONS (for itself and all ancestors) and as good as our current tip or better. </p>
<p>Entries may be failed, though, and pruning nodes may be missing the data for the block. </p>

<p class="definition">Definition at line <a class="el" href="validation_8cpp_source.html#l00124">124</a> of file <a class="el" href="validation_8cpp_source.html">validation.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="validation_8cpp_source.html#l04694">CheckBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l02803">FindMostWorkChain()</a>, <a class="el" href="validation_8cpp_source.html#l03108">InvalidateBlock()</a>, <a class="el" href="validation_8cpp_source.html#l01361">InvalidBlockFound()</a>, <a class="el" href="validation_8cpp_source.html#l04088">LoadBlockIndex()</a>, <a class="el" href="validation_8cpp_source.html#l03076">PreciousBlock()</a>, <a class="el" href="validation_8cpp_source.html#l02858">PruneBlockIndexCandidates()</a>, <a class="el" href="validation_8cpp_source.html#l03267">ReceivedBlockTransactions()</a>, <a class="el" href="validation_8cpp_source.html#l03184">ResetBlockFailureFlags()</a>, and <a class="el" href="validation_8cpp_source.html#l04455">UnloadBlockIndex()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="validation_8cpp_source.html">validation.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
		<!-- HTML footer for doxygen 1.8.14-->
		<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
		  <ul>
			<li class="navelem"><a class="el" href="class_c_chain_state.html">CChainState</a></li>
			<li class="footer">Generated on Mon Nov 2 2020 19:11:20 for Dash Core by
			<a href="http://www.doxygen.org/index.html">
			<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
		  </ul>
		</div>
		</div>
		<div class="ddfooter">
			<div class="footerlicense">Released under the <a href="http://opensource.org/licenses/mit-license.php" target="_blank">MIT license</a></div>
		  </div>
		</div>
	</body>
</html>
