<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
		<meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="generator" content="Doxygen 1.8.14"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<title>Dash Core: src/bls/bls_worker.h Source File</title>
		<link href="tabs.css" rel="stylesheet" type="text/css"/>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript" src="dynsections.js"></script>
		<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
		<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
		<link href="doxygen.css" rel="stylesheet" type="text/css" />
		<link href="doxygen_stylesheetextra.css" rel="stylesheet" type="text/css"/>
	</head>
	<body>
		<div class="head"><div>
		<!--<a id="menumobile" class="menumobile" onclick="mobileMenuShow(event);" ontouchstart="mobileMenuShow(event);"></a>-->
		<a class="logo" href="/en/"><img src="logotop.png" alt="Dash"></img></a>
		<ul id="menusimple" class="menusimple menumain" onclick="mobileMenuHover(event);" ontouchstart="mobileMenuHover(event);">
		  <li><a href="/en/dash-for-developers">Developers</a></li>
		  <li><a>Documentation</a>
			<ul>
			  <li><a href="/en/developer-guide">Guide</a></li>
			  <li><a href="/en/developer-reference">Reference</a></li>
			  <li><a href="/en/developer-examples">Examples</a></li>
			  <li><a href="/en/developer-glossary">Glossary</a></li>
			</ul>
		  </li>
		  <li><a>Resources</a>
			<ul>
			  <li><a rel="noopener noreferrer" target="_blank" href="https://www.dash.org/community/">Community</a></li>
			  <li><a href="/en/vocabulary">Vocabulary</a></li>
			</ul>
		  </li>
		</ul>
		</div></div>
		<div class="body">
		<div class="breadcrumbs"></div>
		<div id="content" class="content">
		  <!-- <link rel="stylesheet" href="/css/jquery-ui.min.css"> -->
		  <h1>Dash Core Source Documentation (0.16.0.1)</h1>
		  <p class="summary">Find detailed information regarding the Dash Core source code.</p>
		<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
		<!--
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
			 <tbody>
			 <tr style="height: 56px;">
			  <td id="projectlogo"><img alt="Logo" src="logotop.png"/></td>
			  <td id="projectalign" style="padding-left: 0.5em;">
			   <div id="projectname">Dash Core
			   &#160;<span id="projectnumber">0.16.0.1</span>
			   </div>
			   <div id="projectbrief">P2P Digital Currency</div>
			  </td>
			 </tr>
			 </tbody>
			</table>
		</div>
		-->
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bls__worker_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">bls_worker.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="bls__worker_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright (c) 2018-2020 The Dash Core developers</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// Distributed under the MIT/X11 software license, see the accompanying</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// file COPYING or http://www.opensource.org/licenses/mit-license.php.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#ifndef DASH_CRYPTO_BLS_WORKER_H</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#define DASH_CRYPTO_BLS_WORKER_H</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="bls_8h.html">bls/bls.h</a>&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ctpl_8h.html">ctpl.h</a>&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;future&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;boost/lockfree/queue.hpp&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// Low level BLS/DKG stuff. All very compute intensive and optimized for parallelization</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// The worker tries to parallelize as much as possible and utilizes a few properties of BLS aggregation to speed up things</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// For example, public key vectors can be aggregated in parallel if they are split into batches and the batched aggregations are</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// aggregated to a final public key. This utilizes that when aggregating keys (a+b+c+d) gives the same result as (a+b)+(c+d)</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html">   21</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_b_l_s_worker.html">CBLSWorker</a></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#aa4d206cd389fc0cb6a78fb77da7071b9">   24</a></span>&#160;    <span class="keyword">typedef</span> std::function&lt;void(const CBLSSignature&amp;)&gt; <a class="code" href="class_c_b_l_s_worker.html#aa4d206cd389fc0cb6a78fb77da7071b9">SignDoneCallback</a>;</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#ae7afdafe84f93e225cc82679ad55596d">   25</a></span>&#160;    <span class="keyword">typedef</span> std::function&lt;void(bool)&gt; <a class="code" href="class_c_b_l_s_worker.html#ae7afdafe84f93e225cc82679ad55596d">SigVerifyDoneCallback</a>;</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#ad87d00c955c10ca0c0de599477e7c8bf">   26</a></span>&#160;    <span class="keyword">typedef</span> std::function&lt;bool()&gt; <a class="code" href="class_c_b_l_s_worker.html#ad87d00c955c10ca0c0de599477e7c8bf">CancelCond</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#a47bfcfc2e611e72e224feb9cf6bbf097">   29</a></span>&#160;    <a class="code" href="classctpl_1_1thread__pool.html">ctpl::thread_pool</a> <a class="code" href="class_c_b_l_s_worker.html#a47bfcfc2e611e72e224feb9cf6bbf097">workerPool</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#a962f366f55b4819bca0d844289bbf09f">   31</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="class_c_b_l_s_worker.html#a962f366f55b4819bca0d844289bbf09f">SIG_VERIFY_BATCH_SIZE</a> = 8;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html">   32</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html">SigVerifyJob</a> {</div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a2895c2e7ba32eb6059e14bf2a64bd1d3">   33</a></span>&#160;        <a class="code" href="class_c_b_l_s_worker.html#ae7afdafe84f93e225cc82679ad55596d">SigVerifyDoneCallback</a> <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a2895c2e7ba32eb6059e14bf2a64bd1d3">doneCallback</a>;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#ac8923deabe4867435e07543e36b88cab">   34</a></span>&#160;        <a class="code" href="class_c_b_l_s_worker.html#ad87d00c955c10ca0c0de599477e7c8bf">CancelCond</a> <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#ac8923deabe4867435e07543e36b88cab">cancelCond</a>;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#aae088c534fda9bceff4efe278e007f22">   35</a></span>&#160;        <a class="code" href="class_c_b_l_s_signature.html">CBLSSignature</a> <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#aae088c534fda9bceff4efe278e007f22">sig</a>;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#afd6cebcba7807c977baa0fe6524594f4">   36</a></span>&#160;        <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a> <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#afd6cebcba7807c977baa0fe6524594f4">pubKey</a>;</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a7c8ba47055ed7e19e5b12739edd8e600">   37</a></span>&#160;        <a class="code" href="classuint256.html">uint256</a> <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a7c8ba47055ed7e19e5b12739edd8e600">msgHash</a>;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a4fdd5ffaaba17c671f2f3dab8e3d3c2a">   38</a></span>&#160;        <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a4fdd5ffaaba17c671f2f3dab8e3d3c2a">SigVerifyJob</a>(<a class="code" href="class_c_b_l_s_worker.html#ae7afdafe84f93e225cc82679ad55596d">SigVerifyDoneCallback</a>&amp;&amp; _doneCallback, <a class="code" href="class_c_b_l_s_worker.html#ad87d00c955c10ca0c0de599477e7c8bf">CancelCond</a>&amp;&amp; _cancelCond, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_signature.html">CBLSSignature</a>&amp; _sig, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a>&amp; _pubKey, <span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; _msgHash) :</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a2895c2e7ba32eb6059e14bf2a64bd1d3">doneCallback</a>(_doneCallback),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#ac8923deabe4867435e07543e36b88cab">cancelCond</a>(_cancelCond),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#aae088c534fda9bceff4efe278e007f22">sig</a>(_sig),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#afd6cebcba7807c977baa0fe6524594f4">pubKey</a>(_pubKey),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <a class="code" href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a7c8ba47055ed7e19e5b12739edd8e600">msgHash</a>(_msgHash)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        }</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    };</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#a4c8984f5b965a98e1399ed3af74885be">   48</a></span>&#160;    std::mutex <a class="code" href="class_c_b_l_s_worker.html#a4c8984f5b965a98e1399ed3af74885be">sigVerifyMutex</a>;</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#a078e033416050c03e1336fffdd706443">   49</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_c_b_l_s_worker.html#a078e033416050c03e1336fffdd706443">sigVerifyBatchesInProgress</a>{0};</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker.html#ab6ac30f032d2dd65c6fdafd2a75e4207">   50</a></span>&#160;    std::vector&lt;SigVerifyJob&gt; <a class="code" href="class_c_b_l_s_worker.html#ab6ac30f032d2dd65c6fdafd2a75e4207">sigVerifyQueue</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="class_c_b_l_s_worker.html#a317efd14b574722e0aa7cc084ec35117">CBLSWorker</a>();</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="class_c_b_l_s_worker.html#aacb150c28be5a8cc5748d7c72f2a4d0c">~CBLSWorker</a>();</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#a829d893343b9242b2af46c9502d20623">Start</a>();</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#ac15beccc0dfa6f8ee0b4155925dc1181">Stop</a>();</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_b_l_s_worker.html#af67aee76121d4452f0005224dd989ab4">GenerateContributions</a>(<span class="keywordtype">int</span> threshold, <span class="keyword">const</span> <a class="code" href="bls_8h.html#a13c9bd180b3afb3a875fba37eb18d41a">BLSIdVector</a>&amp; ids, <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a>&amp; vvecRet, <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; skShares);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment">// The following functions are all used to aggregate verification (public key) vectors</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// Inputs are in the following form:</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">//   [</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">//     [a1, b1, c1, d1],</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">//     [a2, b2, c2, d2],</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">//     [a3, b3, c3, d3],</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">//     [a4, b4, c4, d4],</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">//   ]</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// The result is in the following form:</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">//   [ a1+a2+a3+a4, b1+b2+b3+b4, c1+c2+c3+c4, d1+d2+d3+d4]</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// Multiple things can be parallelized here. For example, all 4 entries in the result vector can be calculated in parallel</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// Also, each individual vector can be split into multiple batches and aggregating the batches can also be paralellized.</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#a118b649802310b5a4ccd11c9480ee16c">AsyncBuildQuorumVerificationVector</a>(<span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                            <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel,</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                            std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a>&amp;)&gt; doneCallback);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    std::future&lt;BLSVerificationVectorPtr&gt; <a class="code" href="class_c_b_l_s_worker.html#a118b649802310b5a4ccd11c9480ee16c">AsyncBuildQuorumVerificationVector</a>(<span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                                                             <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a> <a class="code" href="class_c_b_l_s_worker.html#a696d5a79eb0a92934d68d6819fbd9471">BuildQuorumVerificationVector</a>(<span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                           <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0, <span class="keywordtype">bool</span> parallel = <span class="keyword">true</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// The following functions are all used to aggregate single vectors</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// Inputs are in the following form:</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment">//   [a, b, c, d],</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// The result is simply a+b+c+d</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// Aggregation is paralellized by splitting up the input vector into multiple batches and then aggregating the individual batch results</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#a6cf8139b05cd7786a3ffce054fe7d09d">AsyncAggregateSecretKeys</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; secKeys,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                  <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                  std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a>&amp;)&gt; doneCallback);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    std::future&lt;CBLSSecretKey&gt; <a class="code" href="class_c_b_l_s_worker.html#a6cf8139b05cd7786a3ffce054fe7d09d">AsyncAggregateSecretKeys</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; secKeys,</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                                                        <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a> <a class="code" href="class_c_b_l_s_worker.html#a1f9fc6108b5266a5de4fb2515e392792">AggregateSecretKeys</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; secKeys, <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0, <span class="keywordtype">bool</span> parallel = <span class="keyword">true</span>);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#a32e269ce618841534921b7bc2aa7dca8">AsyncAggregatePublicKeys</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#a2712ab0a8693e989fe42c2b8d32f15a1">BLSPublicKeyVector</a>&amp; pubKeys,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                  <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                  std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a>&amp;)&gt; doneCallback);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    std::future&lt;CBLSPublicKey&gt; <a class="code" href="class_c_b_l_s_worker.html#a32e269ce618841534921b7bc2aa7dca8">AsyncAggregatePublicKeys</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#a2712ab0a8693e989fe42c2b8d32f15a1">BLSPublicKeyVector</a>&amp; pubKeys,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                                        <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a> <a class="code" href="class_c_b_l_s_worker.html#a6e86272290955fb2134b59dd4ffdabdd">AggregatePublicKeys</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#a2712ab0a8693e989fe42c2b8d32f15a1">BLSPublicKeyVector</a>&amp; pubKeys, <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0, <span class="keywordtype">bool</span> parallel = <span class="keyword">true</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#aa65a68f13dad2dc3eff633f9765c471a">AsyncAggregateSigs</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#adac370ba7192c694f40d68eab1ca7754">BLSSignatureVector</a>&amp; sigs,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                            <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel,</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                            std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_signature.html">CBLSSignature</a>&amp;)&gt; doneCallback);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    std::future&lt;CBLSSignature&gt; <a class="code" href="class_c_b_l_s_worker.html#aa65a68f13dad2dc3eff633f9765c471a">AsyncAggregateSigs</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#adac370ba7192c694f40d68eab1ca7754">BLSSignatureVector</a>&amp; sigs,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                                        <span class="keywordtype">size_t</span> start, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>, <span class="keywordtype">bool</span> parallel);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="class_c_b_l_s_signature.html">CBLSSignature</a> <a class="code" href="class_c_b_l_s_worker.html#aca5966cd4561fbbc9f09802ee4277545">AggregateSigs</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#adac370ba7192c694f40d68eab1ca7754">BLSSignatureVector</a>&amp; sigs, <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0, <span class="keywordtype">bool</span> parallel = <span class="keyword">true</span>);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Calculate public key share from public key vector and id. Not parallelized</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a> <a class="code" href="class_c_b_l_s_worker.html#a614a3fb8d6956b3f81e55e53a85f5211">BuildPubKeyShare</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a>&amp; vvec, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_id.html">CBLSId</a>&amp; <span class="keywordtype">id</span>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// The following functions verify multiple verification vectors and contributions for the same id</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">// This is parallelized by performing batched verification. The verification vectors and the contributions of</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// a batch are aggregated (in parallel, see AsyncBuildQuorumVerificationVector and AsyncBuildSecretKeyShare). The</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// result per batch is a single aggregated verification vector and a single aggregated contribution, which are then</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// verified with VerifyContributionShare. If verification of the aggregated inputs is successful, the whole batch</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// is marked as valid. If the batch verification fails, the individual entries are verified in a non-aggregated manner</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#a3fcd3b03dc96f4dc7d3d96d487cdee08">AsyncVerifyContributionShares</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_id.html">CBLSId</a>&amp; forId, <span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs, <span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; skShares,</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                       <span class="keywordtype">bool</span> parallel, <span class="keywordtype">bool</span> aggregated, std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> std::vector&lt;bool&gt;&amp;)&gt; doneCallback);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    std::future&lt;std::vector&lt;bool&gt; &gt; <a class="code" href="class_c_b_l_s_worker.html#a3fcd3b03dc96f4dc7d3d96d487cdee08">AsyncVerifyContributionShares</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_id.html">CBLSId</a>&amp; forId, <span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs, <span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; skShares,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                                                                  <span class="keywordtype">bool</span> parallel, <span class="keywordtype">bool</span> aggregated);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    std::vector&lt;bool&gt; <a class="code" href="class_c_b_l_s_worker.html#a58c338cda8cf259ca2be0506c57b4e22">VerifyContributionShares</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_id.html">CBLSId</a>&amp; forId, <span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs, <span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; skShares,</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                                               <span class="keywordtype">bool</span> parallel = <span class="keyword">true</span>, <span class="keywordtype">bool</span> aggregated = <span class="keyword">true</span>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    std::future&lt;bool&gt; <a class="code" href="class_c_b_l_s_worker.html#acea4b3f0b8a134bef9b466e4bbc3640c">AsyncVerifyContributionShare</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_id.html">CBLSId</a>&amp; forId, <span class="keyword">const</span> <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a>&amp; vvec, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a>&amp; skContribution);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">// Non paralellized verification of a single contribution</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_b_l_s_worker.html#a41d44f3084d0e27484e8e1b79f606925">VerifyContributionShare</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_id.html">CBLSId</a>&amp; forId, <span class="keyword">const</span> <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a>&amp; vvec, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a>&amp; skContribution);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// Simple verification of vectors. Checks x.IsValid() for every entry and checks for duplicate entries</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_b_l_s_worker.html#a8efb8821a170e83fbf07d01a800e9e38">VerifyVerificationVector</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#a266e47d2fe2676fa2de7a57c5e90471f">BLSVerificationVector</a>&amp; vvec, <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_b_l_s_worker.html#ac668b75721529eec91168ee2cd545455">VerifyVerificationVectors</a>(<span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs, <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_b_l_s_worker.html#a3a3c7c9828334c5642f3aa39dd39b9bb">VerifySecretKeyVector</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; secKeys, <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0);</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_b_l_s_worker.html#adf24b2c049738273c6f3be6d83e895e3">VerifySignatureVector</a>(<span class="keyword">const</span> <a class="code" href="bls_8h.html#adac370ba7192c694f40d68eab1ca7754">BLSSignatureVector</a>&amp; sigs, <span class="keywordtype">size_t</span> start = 0, <span class="keywordtype">size_t</span> <a class="code" href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = 0);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// Internally batched signature signing and verification</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#a4538f11df18c9c2f293acb6782a01020">AsyncSign</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a>&amp; secKey, <span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; msgHash, <a class="code" href="class_c_b_l_s_worker.html#aa4d206cd389fc0cb6a78fb77da7071b9">SignDoneCallback</a> doneCallback);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    std::future&lt;CBLSSignature&gt; <a class="code" href="class_c_b_l_s_worker.html#a4538f11df18c9c2f293acb6782a01020">AsyncSign</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a>&amp; secKey, <span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; msgHash);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#ae376953942f8d68a940a430c3de7ced0">AsyncVerifySig</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_signature.html">CBLSSignature</a>&amp; sig, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a>&amp; pubKey, <span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; msgHash, <a class="code" href="class_c_b_l_s_worker.html#ae7afdafe84f93e225cc82679ad55596d">SigVerifyDoneCallback</a> doneCallback, <a class="code" href="class_c_b_l_s_worker.html#ad87d00c955c10ca0c0de599477e7c8bf">CancelCond</a> cancelCond = [] { <span class="keywordflow">return</span> <span class="keyword">false</span>; });</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    std::future&lt;bool&gt; <a class="code" href="class_c_b_l_s_worker.html#ae376953942f8d68a940a430c3de7ced0">AsyncVerifySig</a>(<span class="keyword">const</span> <a class="code" href="class_c_b_l_s_signature.html">CBLSSignature</a>&amp; sig, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a>&amp; pubKey, <span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; msgHash, <a class="code" href="class_c_b_l_s_worker.html#ad87d00c955c10ca0c0de599477e7c8bf">CancelCond</a> cancelCond = [] { <span class="keywordflow">return</span> <span class="keyword">false</span>; });</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_b_l_s_worker.html#a440cd709cc83011077916bba95dddf24">IsAsyncVerifyInProgress</a>();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_b_l_s_worker.html#af52cdb274431ae7ea3d0a5da8f849db4">PushSigVerifyBatch</a>();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;};</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">// Builds and caches different things from CBLSWorker</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">// Cache keys are provided externally as computing hashes on BLS vectors is too expensive</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">// If multiple threads try to build the same thing at the same time, only one will actually build it</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">// and the other ones will wait for the result of the first caller</span></div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html">  150</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_b_l_s_worker_cache.html">CBLSWorkerCache</a></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#aef62fb4916f845f4058154902355a4e8">  153</a></span>&#160;    <a class="code" href="class_c_b_l_s_worker.html">CBLSWorker</a>&amp; <a class="code" href="class_c_b_l_s_worker_cache.html#aef62fb4916f845f4058154902355a4e8">worker</a>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#a989aba96b15d3d5dc9f924cd30b7f348">  155</a></span>&#160;    std::mutex <a class="code" href="class_c_b_l_s_worker_cache.html#a989aba96b15d3d5dc9f924cd30b7f348">cacheCs</a>;</div><div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#a3c258e04968207093709eab54a9fc8c9">  156</a></span>&#160;    std::map&lt;uint256, std::shared_future&lt;BLSVerificationVectorPtr&gt; &gt; <a class="code" href="class_c_b_l_s_worker_cache.html#a3c258e04968207093709eab54a9fc8c9">vvecCache</a>;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#aac8feac112dec5499403047952c8e6c1">  157</a></span>&#160;    std::map&lt;uint256, std::shared_future&lt;CBLSSecretKey&gt; &gt; <a class="code" href="class_c_b_l_s_worker_cache.html#aac8feac112dec5499403047952c8e6c1">secretKeyShareCache</a>;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#a7609e9ff99bb4a7cd113a7acebed6040">  158</a></span>&#160;    std::map&lt;uint256, std::shared_future&lt;CBLSPublicKey&gt; &gt; <a class="code" href="class_c_b_l_s_worker_cache.html#a7609e9ff99bb4a7cd113a7acebed6040">publicKeyShareCache</a>;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#a6ca1e8f7d6cd4da6b5230a5d68a8803c">  161</a></span>&#160;    <span class="keyword">explicit</span> <a class="code" href="class_c_b_l_s_worker_cache.html#a6ca1e8f7d6cd4da6b5230a5d68a8803c">CBLSWorkerCache</a>(<a class="code" href="class_c_b_l_s_worker.html">CBLSWorker</a>&amp; _worker) :</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="class_c_b_l_s_worker_cache.html#aef62fb4916f845f4058154902355a4e8">worker</a>(_worker) {}</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#a32863d6cadb37c4422eb076b8ecc2666">  164</a></span>&#160;    <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a> <a class="code" href="class_c_b_l_s_worker_cache.html#a32863d6cadb37c4422eb076b8ecc2666">BuildQuorumVerificationVector</a>(<span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; cacheKey, <span class="keyword">const</span> std::vector&lt;BLSVerificationVectorPtr&gt;&amp; vvecs)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_c_b_l_s_worker_cache.html#ab352a096bb9b4beeb3376a81af123921">GetOrBuild</a>(cacheKey, <a class="code" href="class_c_b_l_s_worker_cache.html#a3c258e04968207093709eab54a9fc8c9">vvecCache</a>, [&amp;]() {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_c_b_l_s_worker_cache.html#aef62fb4916f845f4058154902355a4e8">worker</a>.<a class="code" href="class_c_b_l_s_worker.html#a696d5a79eb0a92934d68d6819fbd9471">BuildQuorumVerificationVector</a>(vvecs);</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        });</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#aecbb7523ed9ac14dc826864815736505">  170</a></span>&#160;    <a class="code" href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a> <a class="code" href="class_c_b_l_s_worker_cache.html#aecbb7523ed9ac14dc826864815736505">AggregateSecretKeys</a>(<span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; cacheKey, <span class="keyword">const</span> <a class="code" href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a>&amp; skShares)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_c_b_l_s_worker_cache.html#ab352a096bb9b4beeb3376a81af123921">GetOrBuild</a>(cacheKey, <a class="code" href="class_c_b_l_s_worker_cache.html#aac8feac112dec5499403047952c8e6c1">secretKeyShareCache</a>, [&amp;]() {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_c_b_l_s_worker_cache.html#aef62fb4916f845f4058154902355a4e8">worker</a>.<a class="code" href="class_c_b_l_s_worker.html#a1f9fc6108b5266a5de4fb2515e392792">AggregateSecretKeys</a>(skShares);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        });</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#a48a7899e9065709bfb889689f82b27e6">  176</a></span>&#160;    <a class="code" href="class_c_b_l_s_public_key.html">CBLSPublicKey</a> <a class="code" href="class_c_b_l_s_worker_cache.html#a48a7899e9065709bfb889689f82b27e6">BuildPubKeyShare</a>(<span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; cacheKey, <span class="keyword">const</span> <a class="code" href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a>&amp; vvec, <span class="keyword">const</span> <a class="code" href="class_c_b_l_s_id.html">CBLSId</a>&amp; <span class="keywordtype">id</span>)</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_c_b_l_s_worker_cache.html#ab352a096bb9b4beeb3376a81af123921">GetOrBuild</a>(cacheKey, <a class="code" href="class_c_b_l_s_worker_cache.html#a7609e9ff99bb4a7cd113a7acebed6040">publicKeyShareCache</a>, [&amp;]() {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_c_b_l_s_worker_cache.html#aef62fb4916f845f4058154902355a4e8">worker</a>.<a class="code" href="class_c_b_l_s_worker.html#a614a3fb8d6956b3f81e55e53a85f5211">BuildPubKeyShare</a>(vvec, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        });</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Builder&gt;</div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="class_c_b_l_s_worker_cache.html#ab352a096bb9b4beeb3376a81af123921">  185</a></span>&#160;    T <a class="code" href="class_c_b_l_s_worker_cache.html#ab352a096bb9b4beeb3376a81af123921">GetOrBuild</a>(<span class="keyword">const</span> <a class="code" href="classuint256.html">uint256</a>&amp; cacheKey, std::map&lt;<a class="code" href="classuint256.html">uint256</a>, std::shared_future&lt;T&gt; &gt;&amp; cache, Builder&amp;&amp; builder)</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="class_c_b_l_s_worker_cache.html#a989aba96b15d3d5dc9f924cd30b7f348">cacheCs</a>.lock();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">auto</span> it = cache.find(cacheKey);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">if</span> (it != cache.end()) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keyword">auto</span> f = it-&gt;second;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <a class="code" href="class_c_b_l_s_worker_cache.html#a989aba96b15d3d5dc9f924cd30b7f348">cacheCs</a>.unlock();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">return</span> f.get();</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        std::promise&lt;T&gt; p;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        cache.emplace(cacheKey, p.get_future());</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <a class="code" href="class_c_b_l_s_worker_cache.html#a989aba96b15d3d5dc9f924cd30b7f348">cacheCs</a>.unlock();</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        T v = builder();</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        p.set_value(v);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">return</span> v;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;};</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">#endif //DASH_CRYPTO_BLS_WORKER_H</span></div><div class="ttc" id="class_c_b_l_s_worker_html_a41d44f3084d0e27484e8e1b79f606925"><div class="ttname"><a href="class_c_b_l_s_worker.html#a41d44f3084d0e27484e8e1b79f606925">CBLSWorker::VerifyContributionShare</a></div><div class="ttdeci">bool VerifyContributionShare(const CBLSId &amp;forId, const BLSVerificationVectorPtr &amp;vvec, const CBLSSecretKey &amp;skContribution)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00776">bls_worker.cpp:776</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_a989aba96b15d3d5dc9f924cd30b7f348"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#a989aba96b15d3d5dc9f924cd30b7f348">CBLSWorkerCache::cacheCs</a></div><div class="ttdeci">std::mutex cacheCs</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00155">bls_worker.h:155</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html">CBLSWorkerCache</a></div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00150">bls_worker.h:150</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a078e033416050c03e1336fffdd706443"><div class="ttname"><a href="class_c_b_l_s_worker.html#a078e033416050c03e1336fffdd706443">CBLSWorker::sigVerifyBatchesInProgress</a></div><div class="ttdeci">int sigVerifyBatchesInProgress</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00049">bls_worker.h:49</a></div></div>
<div class="ttc" id="bls_8h_html_a2712ab0a8693e989fe42c2b8d32f15a1"><div class="ttname"><a href="bls_8h.html#a2712ab0a8693e989fe42c2b8d32f15a1">BLSPublicKeyVector</a></div><div class="ttdeci">std::vector&lt; CBLSPublicKey &gt; BLSPublicKeyVector</div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00466">bls.h:466</a></div></div>
<div class="ttc" id="struct_c_b_l_s_worker_1_1_sig_verify_job_html_afd6cebcba7807c977baa0fe6524594f4"><div class="ttname"><a href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#afd6cebcba7807c977baa0fe6524594f4">CBLSWorker::SigVerifyJob::pubKey</a></div><div class="ttdeci">CBLSPublicKey pubKey</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00036">bls_worker.h:36</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_ab352a096bb9b4beeb3376a81af123921"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#ab352a096bb9b4beeb3376a81af123921">CBLSWorkerCache::GetOrBuild</a></div><div class="ttdeci">T GetOrBuild(const uint256 &amp;cacheKey, std::map&lt; uint256, std::shared_future&lt; T &gt; &gt; &amp;cache, Builder &amp;&amp;builder)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00185">bls_worker.h:185</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_aac8feac112dec5499403047952c8e6c1"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#aac8feac112dec5499403047952c8e6c1">CBLSWorkerCache::secretKeyShareCache</a></div><div class="ttdeci">std::map&lt; uint256, std::shared_future&lt; CBLSSecretKey &gt; &gt; secretKeyShareCache</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00157">bls_worker.h:157</a></div></div>
<div class="ttc" id="class_c_b_l_s_secret_key_html"><div class="ttname"><a href="class_c_b_l_s_secret_key.html">CBLSSecretKey</a></div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00238">bls.h:238</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a118b649802310b5a4ccd11c9480ee16c"><div class="ttname"><a href="class_c_b_l_s_worker.html#a118b649802310b5a4ccd11c9480ee16c">CBLSWorker::AsyncBuildQuorumVerificationVector</a></div><div class="ttdeci">void AsyncBuildQuorumVerificationVector(const std::vector&lt; BLSVerificationVectorPtr &gt; &amp;vvecs, size_t start, size_t count, bool parallel, std::function&lt; void(const BLSVerificationVectorPtr &amp;)&gt; doneCallback)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00600">bls_worker.cpp:600</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a3a3c7c9828334c5642f3aa39dd39b9bb"><div class="ttname"><a href="class_c_b_l_s_worker.html#a3a3c7c9828334c5642f3aa39dd39b9bb">CBLSWorker::VerifySecretKeyVector</a></div><div class="ttdeci">bool VerifySecretKeyVector(const BLSSecretKeyVector &amp;secKeys, size_t start=0, size_t count=0)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00823">bls_worker.cpp:823</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html"><div class="ttname"><a href="class_c_b_l_s_worker.html">CBLSWorker</a></div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00021">bls_worker.h:21</a></div></div>
<div class="ttc" id="struct_c_b_l_s_worker_1_1_sig_verify_job_html_a2895c2e7ba32eb6059e14bf2a64bd1d3"><div class="ttname"><a href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a2895c2e7ba32eb6059e14bf2a64bd1d3">CBLSWorker::SigVerifyJob::doneCallback</a></div><div class="ttdeci">SigVerifyDoneCallback doneCallback</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00033">bls_worker.h:33</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a3fcd3b03dc96f4dc7d3d96d487cdee08"><div class="ttname"><a href="class_c_b_l_s_worker.html#a3fcd3b03dc96f4dc7d3d96d487cdee08">CBLSWorker::AsyncVerifyContributionShares</a></div><div class="ttdeci">void AsyncVerifyContributionShares(const CBLSId &amp;forId, const std::vector&lt; BLSVerificationVectorPtr &gt; &amp;vvecs, const BLSSecretKeyVector &amp;skShares, bool parallel, bool aggregated, std::function&lt; void(const std::vector&lt; bool &gt; &amp;)&gt; doneCallback)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00726">bls_worker.cpp:726</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_ae7afdafe84f93e225cc82679ad55596d"><div class="ttname"><a href="class_c_b_l_s_worker.html#ae7afdafe84f93e225cc82679ad55596d">CBLSWorker::SigVerifyDoneCallback</a></div><div class="ttdeci">std::function&lt; void(bool)&gt; SigVerifyDoneCallback</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00025">bls_worker.h:25</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a962f366f55b4819bca0d844289bbf09f"><div class="ttname"><a href="class_c_b_l_s_worker.html#a962f366f55b4819bca0d844289bbf09f">CBLSWorker::SIG_VERIFY_BATCH_SIZE</a></div><div class="ttdeci">static const int SIG_VERIFY_BATCH_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00031">bls_worker.h:31</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a6e86272290955fb2134b59dd4ffdabdd"><div class="ttname"><a href="class_c_b_l_s_worker.html#a6e86272290955fb2134b59dd4ffdabdd">CBLSWorker::AggregatePublicKeys</a></div><div class="ttdeci">CBLSPublicKey AggregatePublicKeys(const BLSPublicKeyVector &amp;pubKeys, size_t start=0, size_t count=0, bool parallel=true)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00691">bls_worker.cpp:691</a></div></div>
<div class="ttc" id="bls_8h_html_a266e47d2fe2676fa2de7a57c5e90471f"><div class="ttname"><a href="bls_8h.html#a266e47d2fe2676fa2de7a57c5e90471f">BLSVerificationVector</a></div><div class="ttdeci">std::vector&lt; CBLSPublicKey &gt; BLSVerificationVector</div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00465">bls.h:465</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a4c8984f5b965a98e1399ed3af74885be"><div class="ttname"><a href="class_c_b_l_s_worker.html#a4c8984f5b965a98e1399ed3af74885be">CBLSWorker::sigVerifyMutex</a></div><div class="ttdeci">std::mutex sigVerifyMutex</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00048">bls_worker.h:48</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a696d5a79eb0a92934d68d6819fbd9471"><div class="ttname"><a href="class_c_b_l_s_worker.html#a696d5a79eb0a92934d68d6819fbd9471">CBLSWorker::BuildQuorumVerificationVector</a></div><div class="ttdeci">BLSVerificationVectorPtr BuildQuorumVerificationVector(const std::vector&lt; BLSVerificationVectorPtr &gt; &amp;vvecs, size_t start=0, size_t count=0, bool parallel=true)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00628">bls_worker.cpp:628</a></div></div>
<div class="ttc" id="bls_8h_html_abef160e904fea03cd7f96dffde57eb64"><div class="ttname"><a href="bls_8h.html#abef160e904fea03cd7f96dffde57eb64">BLSSecretKeyVector</a></div><div class="ttdeci">std::vector&lt; CBLSSecretKey &gt; BLSSecretKeyVector</div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00467">bls.h:467</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a8efb8821a170e83fbf07d01a800e9e38"><div class="ttname"><a href="class_c_b_l_s_worker.html#a8efb8821a170e83fbf07d01a800e9e38">CBLSWorker::VerifyVerificationVector</a></div><div class="ttdeci">bool VerifyVerificationVector(const BLSVerificationVector &amp;vvec, size_t start=0, size_t count=0)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00788">bls_worker.cpp:788</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_af67aee76121d4452f0005224dd989ab4"><div class="ttname"><a href="class_c_b_l_s_worker.html#af67aee76121d4452f0005224dd989ab4">CBLSWorker::GenerateContributions</a></div><div class="ttdeci">bool GenerateContributions(int threshold, const BLSIdVector &amp;ids, BLSVerificationVectorPtr &amp;vvecRet, BLSSecretKeyVector &amp;skShares)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00075">bls_worker.cpp:75</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_aecbb7523ed9ac14dc826864815736505"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#aecbb7523ed9ac14dc826864815736505">CBLSWorkerCache::AggregateSecretKeys</a></div><div class="ttdeci">CBLSSecretKey AggregateSecretKeys(const uint256 &amp;cacheKey, const BLSSecretKeyVector &amp;skShares)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00170">bls_worker.h:170</a></div></div>
<div class="ttc" id="bls_8h_html_adac370ba7192c694f40d68eab1ca7754"><div class="ttname"><a href="bls_8h.html#adac370ba7192c694f40d68eab1ca7754">BLSSignatureVector</a></div><div class="ttdeci">std::vector&lt; CBLSSignature &gt; BLSSignatureVector</div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00468">bls.h:468</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a47bfcfc2e611e72e224feb9cf6bbf097"><div class="ttname"><a href="class_c_b_l_s_worker.html#a47bfcfc2e611e72e224feb9cf6bbf097">CBLSWorker::workerPool</a></div><div class="ttdeci">ctpl::thread_pool workerPool</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00029">bls_worker.h:29</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a317efd14b574722e0aa7cc084ec35117"><div class="ttname"><a href="class_c_b_l_s_worker.html#a317efd14b574722e0aa7cc084ec35117">CBLSWorker::CBLSWorker</a></div><div class="ttdeci">CBLSWorker()</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00052">bls_worker.cpp:52</a></div></div>
<div class="ttc" id="class_c_b_l_s_id_html"><div class="ttname"><a href="class_c_b_l_s_id.html">CBLSId</a></div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00218">bls.h:218</a></div></div>
<div class="ttc" id="struct_c_b_l_s_worker_1_1_sig_verify_job_html_aae088c534fda9bceff4efe278e007f22"><div class="ttname"><a href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#aae088c534fda9bceff4efe278e007f22">CBLSWorker::SigVerifyJob::sig</a></div><div class="ttdeci">CBLSSignature sig</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00035">bls_worker.h:35</a></div></div>
<div class="ttc" id="struct_c_b_l_s_worker_1_1_sig_verify_job_html_a4fdd5ffaaba17c671f2f3dab8e3d3c2a"><div class="ttname"><a href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a4fdd5ffaaba17c671f2f3dab8e3d3c2a">CBLSWorker::SigVerifyJob::SigVerifyJob</a></div><div class="ttdeci">SigVerifyJob(SigVerifyDoneCallback &amp;&amp;_doneCallback, CancelCond &amp;&amp;_cancelCond, const CBLSSignature &amp;_sig, const CBLSPublicKey &amp;_pubKey, const uint256 &amp;_msgHash)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00038">bls_worker.h:38</a></div></div>
<div class="ttc" id="bls_8h_html_aa54cc3b1208ef18978705cfe73883172"><div class="ttname"><a href="bls_8h.html#aa54cc3b1208ef18978705cfe73883172">BLSVerificationVectorPtr</a></div><div class="ttdeci">std::shared_ptr&lt; BLSVerificationVector &gt; BLSVerificationVectorPtr</div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00471">bls.h:471</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_ac668b75721529eec91168ee2cd545455"><div class="ttname"><a href="class_c_b_l_s_worker.html#ac668b75721529eec91168ee2cd545455">CBLSWorker::VerifyVerificationVectors</a></div><div class="ttdeci">bool VerifyVerificationVectors(const std::vector&lt; BLSVerificationVectorPtr &gt; &amp;vvecs, size_t start=0, size_t count=0)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00793">bls_worker.cpp:793</a></div></div>
<div class="ttc" id="bls_8h_html_a13c9bd180b3afb3a875fba37eb18d41a"><div class="ttname"><a href="bls_8h.html#a13c9bd180b3afb3a875fba37eb18d41a">BLSIdVector</a></div><div class="ttdeci">std::vector&lt; CBLSId &gt; BLSIdVector</div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00464">bls.h:464</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a32e269ce618841534921b7bc2aa7dca8"><div class="ttname"><a href="class_c_b_l_s_worker.html#a32e269ce618841534921b7bc2aa7dca8">CBLSWorker::AsyncAggregatePublicKeys</a></div><div class="ttdeci">void AsyncAggregatePublicKeys(const BLSPublicKeyVector &amp;pubKeys, size_t start, size_t count, bool parallel, std::function&lt; void(const CBLSPublicKey &amp;)&gt; doneCallback)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00676">bls_worker.cpp:676</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_adf24b2c049738273c6f3be6d83e895e3"><div class="ttname"><a href="class_c_b_l_s_worker.html#adf24b2c049738273c6f3be6d83e895e3">CBLSWorker::VerifySignatureVector</a></div><div class="ttdeci">bool VerifySignatureVector(const BLSSignatureVector &amp;sigs, size_t start=0, size_t count=0)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00828">bls_worker.cpp:828</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_a6ca1e8f7d6cd4da6b5230a5d68a8803c"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#a6ca1e8f7d6cd4da6b5230a5d68a8803c">CBLSWorkerCache::CBLSWorkerCache</a></div><div class="ttdeci">CBLSWorkerCache(CBLSWorker &amp;_worker)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00161">bls_worker.h:161</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a614a3fb8d6956b3f81e55e53a85f5211"><div class="ttname"><a href="class_c_b_l_s_worker.html#a614a3fb8d6956b3f81e55e53a85f5211">CBLSWorker::BuildPubKeyShare</a></div><div class="ttdeci">CBLSPublicKey BuildPubKeyShare(const BLSVerificationVectorPtr &amp;vvec, const CBLSId &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00719">bls_worker.cpp:719</a></div></div>
<div class="ttc" id="class_c_b_l_s_public_key_html"><div class="ttname"><a href="class_c_b_l_s_public_key.html">CBLSPublicKey</a></div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00263">bls.h:263</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_aa4d206cd389fc0cb6a78fb77da7071b9"><div class="ttname"><a href="class_c_b_l_s_worker.html#aa4d206cd389fc0cb6a78fb77da7071b9">CBLSWorker::SignDoneCallback</a></div><div class="ttdeci">std::function&lt; void(const CBLSSignature &amp;)&gt; SignDoneCallback</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00024">bls_worker.h:24</a></div></div>
<div class="ttc" id="class_c_b_l_s_signature_html"><div class="ttname"><a href="class_c_b_l_s_signature.html">CBLSSignature</a></div><div class="ttdef"><b>Definition:</b> <a href="bls_8h_source.html#l00286">bls.h:286</a></div></div>
<div class="ttc" id="struct_c_b_l_s_worker_1_1_sig_verify_job_html_ac8923deabe4867435e07543e36b88cab"><div class="ttname"><a href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#ac8923deabe4867435e07543e36b88cab">CBLSWorker::SigVerifyJob::cancelCond</a></div><div class="ttdeci">CancelCond cancelCond</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00034">bls_worker.h:34</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_ac15beccc0dfa6f8ee0b4155925dc1181"><div class="ttname"><a href="class_c_b_l_s_worker.html#ac15beccc0dfa6f8ee0b4155925dc1181">CBLSWorker::Stop</a></div><div class="ttdeci">void Stop()</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00069">bls_worker.cpp:69</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a58c338cda8cf259ca2be0506c57b4e22"><div class="ttname"><a href="class_c_b_l_s_worker.html#a58c338cda8cf259ca2be0506c57b4e22">CBLSWorker::VerifyContributionShares</a></div><div class="ttdeci">std::vector&lt; bool &gt; VerifyContributionShares(const CBLSId &amp;forId, const std::vector&lt; BLSVerificationVectorPtr &gt; &amp;vvecs, const BLSSecretKeyVector &amp;skShares, bool parallel=true, bool aggregated=true)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00748">bls_worker.cpp:748</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a1f9fc6108b5266a5de4fb2515e392792"><div class="ttname"><a href="class_c_b_l_s_worker.html#a1f9fc6108b5266a5de4fb2515e392792">CBLSWorker::AggregateSecretKeys</a></div><div class="ttdeci">CBLSSecretKey AggregateSecretKeys(const BLSSecretKeyVector &amp;secKeys, size_t start=0, size_t count=0, bool parallel=true)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00670">bls_worker.cpp:670</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_a48a7899e9065709bfb889689f82b27e6"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#a48a7899e9065709bfb889689f82b27e6">CBLSWorkerCache::BuildPubKeyShare</a></div><div class="ttdeci">CBLSPublicKey BuildPubKeyShare(const uint256 &amp;cacheKey, const BLSVerificationVectorPtr &amp;vvec, const CBLSId &amp;id)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00176">bls_worker.h:176</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_ad87d00c955c10ca0c0de599477e7c8bf"><div class="ttname"><a href="class_c_b_l_s_worker.html#ad87d00c955c10ca0c0de599477e7c8bf">CBLSWorker::CancelCond</a></div><div class="ttdeci">std::function&lt; bool()&gt; CancelCond</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00026">bls_worker.h:26</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_af52cdb274431ae7ea3d0a5da8f849db4"><div class="ttname"><a href="class_c_b_l_s_worker.html#af52cdb274431ae7ea3d0a5da8f849db4">CBLSWorker::PushSigVerifyBatch</a></div><div class="ttdeci">void PushSigVerifyBatch()</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00891">bls_worker.cpp:891</a></div></div>
<div class="ttc" id="struct_c_b_l_s_worker_1_1_sig_verify_job_html"><div class="ttname"><a href="struct_c_b_l_s_worker_1_1_sig_verify_job.html">CBLSWorker::SigVerifyJob</a></div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00032">bls_worker.h:32</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a829d893343b9242b2af46c9502d20623"><div class="ttname"><a href="class_c_b_l_s_worker.html#a829d893343b9242b2af46c9502d20623">CBLSWorker::Start</a></div><div class="ttdeci">void Start()</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00061">bls_worker.cpp:61</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_a3c258e04968207093709eab54a9fc8c9"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#a3c258e04968207093709eab54a9fc8c9">CBLSWorkerCache::vvecCache</a></div><div class="ttdeci">std::map&lt; uint256, std::shared_future&lt; BLSVerificationVectorPtr &gt; &gt; vvecCache</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00156">bls_worker.h:156</a></div></div>
<div class="ttc" id="classuint256_html"><div class="ttname"><a href="classuint256.html">uint256</a></div><div class="ttdoc">256-bit opaque blob. </div><div class="ttdef"><b>Definition:</b> <a href="uint256_8h_source.html#l00123">uint256.h:123</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_aacb150c28be5a8cc5748d7c72f2a4d0c"><div class="ttname"><a href="class_c_b_l_s_worker.html#aacb150c28be5a8cc5748d7c72f2a4d0c">CBLSWorker::~CBLSWorker</a></div><div class="ttdeci">~CBLSWorker()</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00056">bls_worker.cpp:56</a></div></div>
<div class="ttc" id="bls_8h_html"><div class="ttname"><a href="bls_8h.html">bls.h</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a440cd709cc83011077916bba95dddf24"><div class="ttname"><a href="class_c_b_l_s_worker.html#a440cd709cc83011077916bba95dddf24">CBLSWorker::IsAsyncVerifyInProgress</a></div><div class="ttdeci">bool IsAsyncVerifyInProgress()</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00884">bls_worker.cpp:884</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_ae376953942f8d68a940a430c3de7ced0"><div class="ttname"><a href="class_c_b_l_s_worker.html#ae376953942f8d68a940a430c3de7ced0">CBLSWorker::AsyncVerifySig</a></div><div class="ttdeci">void AsyncVerifySig(const CBLSSignature &amp;sig, const CBLSPublicKey &amp;pubKey, const uint256 &amp;msgHash, SigVerifyDoneCallback doneCallback, CancelCond cancelCond=[] { return false;})</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00847">bls_worker.cpp:847</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_a7609e9ff99bb4a7cd113a7acebed6040"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#a7609e9ff99bb4a7cd113a7acebed6040">CBLSWorkerCache::publicKeyShareCache</a></div><div class="ttdeci">std::map&lt; uint256, std::shared_future&lt; CBLSPublicKey &gt; &gt; publicKeyShareCache</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00158">bls_worker.h:158</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_aef62fb4916f845f4058154902355a4e8"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#aef62fb4916f845f4058154902355a4e8">CBLSWorkerCache::worker</a></div><div class="ttdeci">CBLSWorker &amp; worker</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00153">bls_worker.h:153</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a6cf8139b05cd7786a3ffce054fe7d09d"><div class="ttname"><a href="class_c_b_l_s_worker.html#a6cf8139b05cd7786a3ffce054fe7d09d">CBLSWorker::AsyncAggregateSecretKeys</a></div><div class="ttdeci">void AsyncAggregateSecretKeys(const BLSSecretKeyVector &amp;secKeys, size_t start, size_t count, bool parallel, std::function&lt; void(const CBLSSecretKey &amp;)&gt; doneCallback)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00655">bls_worker.cpp:655</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_a4538f11df18c9c2f293acb6782a01020"><div class="ttname"><a href="class_c_b_l_s_worker.html#a4538f11df18c9c2f293acb6782a01020">CBLSWorker::AsyncSign</a></div><div class="ttdeci">void AsyncSign(const CBLSSecretKey &amp;secKey, const uint256 &amp;msgHash, SignDoneCallback doneCallback)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00833">bls_worker.cpp:833</a></div></div>
<div class="ttc" id="tests_8c_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="tests_8c.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a></div><div class="ttdeci">static int count</div><div class="ttdef"><b>Definition:</b> <a href="tests_8c_source.html#l00045">tests.c:45</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_acea4b3f0b8a134bef9b466e4bbc3640c"><div class="ttname"><a href="class_c_b_l_s_worker.html#acea4b3f0b8a134bef9b466e4bbc3640c">CBLSWorker::AsyncVerifyContributionShare</a></div><div class="ttdeci">std::future&lt; bool &gt; AsyncVerifyContributionShare(const CBLSId &amp;forId, const BLSVerificationVectorPtr &amp;vvec, const CBLSSecretKey &amp;skContribution)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00754">bls_worker.cpp:754</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_aca5966cd4561fbbc9f09802ee4277545"><div class="ttname"><a href="class_c_b_l_s_worker.html#aca5966cd4561fbbc9f09802ee4277545">CBLSWorker::AggregateSigs</a></div><div class="ttdeci">CBLSSignature AggregateSigs(const BLSSignatureVector &amp;sigs, size_t start=0, size_t count=0, bool parallel=true)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00712">bls_worker.cpp:712</a></div></div>
<div class="ttc" id="ctpl_8h_html"><div class="ttname"><a href="ctpl_8h.html">ctpl.h</a></div></div>
<div class="ttc" id="classctpl_1_1thread__pool_html"><div class="ttname"><a href="classctpl_1_1thread__pool.html">ctpl::thread_pool</a></div><div class="ttdef"><b>Definition:</b> <a href="ctpl_8h_source.html#l00048">ctpl.h:48</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_cache_html_a32863d6cadb37c4422eb076b8ecc2666"><div class="ttname"><a href="class_c_b_l_s_worker_cache.html#a32863d6cadb37c4422eb076b8ecc2666">CBLSWorkerCache::BuildQuorumVerificationVector</a></div><div class="ttdeci">BLSVerificationVectorPtr BuildQuorumVerificationVector(const uint256 &amp;cacheKey, const std::vector&lt; BLSVerificationVectorPtr &gt; &amp;vvecs)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00164">bls_worker.h:164</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_ab6ac30f032d2dd65c6fdafd2a75e4207"><div class="ttname"><a href="class_c_b_l_s_worker.html#ab6ac30f032d2dd65c6fdafd2a75e4207">CBLSWorker::sigVerifyQueue</a></div><div class="ttdeci">std::vector&lt; SigVerifyJob &gt; sigVerifyQueue</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00050">bls_worker.h:50</a></div></div>
<div class="ttc" id="class_c_b_l_s_worker_html_aa65a68f13dad2dc3eff633f9765c471a"><div class="ttname"><a href="class_c_b_l_s_worker.html#aa65a68f13dad2dc3eff633f9765c471a">CBLSWorker::AsyncAggregateSigs</a></div><div class="ttdeci">void AsyncAggregateSigs(const BLSSignatureVector &amp;sigs, size_t start, size_t count, bool parallel, std::function&lt; void(const CBLSSignature &amp;)&gt; doneCallback)</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8cpp_source.html#l00697">bls_worker.cpp:697</a></div></div>
<div class="ttc" id="struct_c_b_l_s_worker_1_1_sig_verify_job_html_a7c8ba47055ed7e19e5b12739edd8e600"><div class="ttname"><a href="struct_c_b_l_s_worker_1_1_sig_verify_job.html#a7c8ba47055ed7e19e5b12739edd8e600">CBLSWorker::SigVerifyJob::msgHash</a></div><div class="ttdeci">uint256 msgHash</div><div class="ttdef"><b>Definition:</b> <a href="bls__worker_8h_source.html#l00037">bls_worker.h:37</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
		<!-- HTML footer for doxygen 1.8.14-->
		<!-- start footer part -->
		<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
		  <ul>
			<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_d6a657711c95f5acdb9d883c88587590.html">bls</a></li><li class="navelem"><a class="el" href="bls__worker_8h.html">bls_worker.h</a></li>
			<li class="footer">Generated on Mon Nov 2 2020 19:11:11 for Dash Core by
			<a href="http://www.doxygen.org/index.html">
			<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
		  </ul>
		</div>
		</div>
		<div class="ddfooter">
			<div class="footerlicense">Released under the <a href="http://opensource.org/licenses/mit-license.php" target="_blank">MIT license</a></div>
		  </div>
		</div>
	</body>
</html>
